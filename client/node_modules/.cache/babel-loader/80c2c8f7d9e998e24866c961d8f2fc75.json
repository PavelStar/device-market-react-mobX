{"ast":null,"code":"import ResponseDataState from \"../store/ResponseDataState\";\nimport FiltersSettingsState from \"../store/FiltersSettingsState\";\nimport { setSortByItems } from \"./setSortByItems\";\nexport const SetFilterSettings = () => {\n  const {\n    responseData\n  } = ResponseDataState;\n  const {\n    allFilteredItems,\n    selectedCategories,\n    selectedBrands,\n    priceRange,\n    isAvailable,\n    isDiscount\n  } = FiltersSettingsState;\n  return setSortByItems(allFilteredItems && allFilteredItems.filter(item => {\n    if (selectedCategories.length) {\n      return selectedCategories.includes(item.category);\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    if (selectedBrands.length) {\n      return selectedBrands.includes(item.brand);\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    let price = item.priceInfo.fullPrice - item.priceInfo.discountAmount;\n    return price >= priceRange[0] && price <= priceRange[1];\n  }).filter(item => {\n    if (isAvailable) {\n      return item.isAvailable;\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    if (isDiscount) {\n      return item.priceInfo.discount;\n    } else {\n      return item;\n    }\n  }));\n};\n_c = SetFilterSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"SetFilterSettings\");","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/Utils/SetFilterSettings.ts"],"names":["ResponseDataState","FiltersSettingsState","setSortByItems","SetFilterSettings","responseData","allFilteredItems","selectedCategories","selectedBrands","priceRange","isAvailable","isDiscount","filter","item","length","includes","category","brand","price","priceInfo","fullPrice","discountAmount","discount"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,oBAAP,MAAiC,+BAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACtC,QAAM;AAAEC,IAAAA;AAAF,MAAmBJ,iBAAzB;AACA,QAAM;AAAEK,IAAAA,gBAAF;AAAoBC,IAAAA,kBAApB;AAAwCC,IAAAA,cAAxC;AAAwDC,IAAAA,UAAxD;AAAoEC,IAAAA,WAApE;AAAiFC,IAAAA;AAAjF,MACLT,oBADD;AAGA,SAAOC,cAAc,CACpBG,gBAAgB,IACfA,gBAAgB,CACdM,MADF,CACUC,IAAD,IAAU;AACjB,QAAIN,kBAAkB,CAACO,MAAvB,EAA+B;AAC9B,aAAOP,kBAAkB,CAACQ,QAAnB,CAA4BF,IAAI,CAACG,QAAjC,CAAP;AACA,KAFD,MAEO;AACN,aAAOH,IAAP;AACA;AACD,GAPF,EAQED,MARF,CAQUC,IAAD,IAAU;AACjB,QAAIL,cAAc,CAACM,MAAnB,EAA2B;AAC1B,aAAON,cAAc,CAACO,QAAf,CAAwBF,IAAI,CAACI,KAA7B,CAAP;AACA,KAFD,MAEO;AACN,aAAOJ,IAAP;AACA;AACD,GAdF,EAeED,MAfF,CAeUC,IAAD,IAAU;AACjB,QAAIK,KAAK,GAAGL,IAAI,CAACM,SAAL,CAAeC,SAAf,GAA2BP,IAAI,CAACM,SAAL,CAAeE,cAAtD;AACA,WAAOH,KAAK,IAAIT,UAAU,CAAC,CAAD,CAAnB,IAA0BS,KAAK,IAAIT,UAAU,CAAC,CAAD,CAApD;AACA,GAlBF,EAmBEG,MAnBF,CAmBUC,IAAD,IAAU;AACjB,QAAIH,WAAJ,EAAiB;AAChB,aAAOG,IAAI,CAACH,WAAZ;AACA,KAFD,MAEO;AACN,aAAOG,IAAP;AACA;AACD,GAzBF,EA0BED,MA1BF,CA0BUC,IAAD,IAAU;AACjB,QAAIF,UAAJ,EAAgB;AACf,aAAOE,IAAI,CAACM,SAAL,CAAeG,QAAtB;AACA,KAFD,MAEO;AACN,aAAOT,IAAP;AACA;AACD,GAhCF,CAFmB,CAArB;AAoCA,CAzCM;KAAMT,iB","sourcesContent":["import ResponseDataState from \"../store/ResponseDataState\";\r\nimport FiltersSettingsState from \"../store/FiltersSettingsState\";\r\nimport { setSortByItems } from \"./setSortByItems\";\r\n\r\nexport const SetFilterSettings = () => {\r\n\tconst { responseData } = ResponseDataState;\r\n\tconst { allFilteredItems, selectedCategories, selectedBrands, priceRange, isAvailable, isDiscount } =\r\n\t\tFiltersSettingsState;\r\n\r\n\treturn setSortByItems(\r\n\t\tallFilteredItems &&\r\n\t\t\tallFilteredItems\r\n\t\t\t\t.filter((item) => {\r\n\t\t\t\t\tif (selectedCategories.length) {\r\n\t\t\t\t\t\treturn selectedCategories.includes(item.category);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.filter((item) => {\r\n\t\t\t\t\tif (selectedBrands.length) {\r\n\t\t\t\t\t\treturn selectedBrands.includes(item.brand);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.filter((item) => {\r\n\t\t\t\t\tlet price = item.priceInfo.fullPrice - item.priceInfo.discountAmount;\r\n\t\t\t\t\treturn price >= priceRange[0] && price <= priceRange[1];\r\n\t\t\t\t})\r\n\t\t\t\t.filter((item) => {\r\n\t\t\t\t\tif (isAvailable) {\r\n\t\t\t\t\t\treturn item.isAvailable;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.filter((item) => {\r\n\t\t\t\t\tif (isDiscount) {\r\n\t\t\t\t\t\treturn item.priceInfo.discount;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}