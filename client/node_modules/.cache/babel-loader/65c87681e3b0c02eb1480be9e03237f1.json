{"ast":null,"code":"import{useEffect,useRef}from\"react\";import{observer}from\"mobx-react-lite\";import ResponseDataState from\"../../store/ResponseDataState\";import ApiService from\"../../API/ApiService\";import FiltersPanel from\"../../components/FiltersPanel/FiltersPanel\";import PageWidthState from\"../../store/PageWidthState\";import ResultsBlock from\"../../components/ResultsBlock/ResultsBlock\";import ItemsFoundCounter from\"../../components/ItemsFoundCounter/ItemsFoundCounter\";import FiltersSettingsState from\"../../store/FiltersSettingsState\";import\"./CatalogPage.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CatalogPage=observer(function(){var apiService=new ApiService();var responseData=ResponseDataState.responseData;var isMobile=PageWidthState.isMobile;var isFiltersShown=FiltersSettingsState.isFiltersShown;var filtersWrapRef=useRef(null);useEffect(function(){console.log('catalog-page');if(!(responseData===null||responseData===void 0?void 0:responseData.items)){apiService.getData().then(function(data){ResponseDataState.setResponseData(data);});}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:responseData&&/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"catalog-page__title\",children:\"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page__inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page__filters-wrap\",ref:filtersWrapRef,children:[/*#__PURE__*/_jsx(ItemsFoundCounter,{}),!isMobile||isFiltersShown?/*#__PURE__*/_jsx(FiltersPanel,{}):null]}),/*#__PURE__*/_jsx(ResultsBlock,{responseItems:responseData.items})]})]})});});export default CatalogPage;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/pages/CatalogPage/CatalogPage.tsx"],"names":["useEffect","useRef","observer","ResponseDataState","ApiService","FiltersPanel","PageWidthState","ResultsBlock","ItemsFoundCounter","FiltersSettingsState","CatalogPage","apiService","responseData","isMobile","isFiltersShown","filtersWrapRef","console","log","items","getData","then","data","setResponseData"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAA4C,OAA5C,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+BAA9B,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sDAA9B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,kCAAjC,CACA,MAAO,oBAAP,C,6IAEA,GAAMC,CAAAA,WAAW,CAAGR,QAAQ,CAAC,UAAM,CAC/B,GAAMS,CAAAA,UAAU,CAAG,GAAIP,CAAAA,UAAJ,EAAnB,CAEA,GAAQQ,CAAAA,YAAR,CAAyBT,iBAAzB,CAAQS,YAAR,CACA,GAAQC,CAAAA,QAAR,CAAqBP,cAArB,CAAQO,QAAR,CACA,GAAQC,CAAAA,cAAR,CAA2BL,oBAA3B,CAAQK,cAAR,CAGA,GAAMC,CAAAA,cAAc,CAAGd,MAAM,CAAC,IAAD,CAA7B,CAEAD,SAAS,CAAC,UAAM,CACZgB,OAAO,CAACC,GAAR,CAAY,cAAZ,EACA,GAAI,EAACL,YAAD,SAACA,YAAD,iBAACA,YAAY,CAAEM,KAAf,CAAJ,CAA0B,CACtBP,UAAU,CAACQ,OAAX,GAAqBC,IAArB,CAA0B,SAACC,IAAD,CAAU,CAChClB,iBAAiB,CAACmB,eAAlB,CAAkCD,IAAlC,EACH,CAFD,EAGH,CAGJ,CATQ,CASN,EATM,CAAT,CAWA,mBACI,yBACKT,YAAY,eACT,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,qBAAd,wDADJ,cAEI,aAAK,SAAS,CAAC,qBAAf,wBACI,aAAK,SAAS,CAAC,4BAAf,CAA4C,GAAG,CAAEG,cAAjD,wBACI,KAAC,iBAAD,IADJ,CAEK,CAACF,QAAD,EAAaC,cAAb,cAA8B,KAAC,YAAD,IAA9B,CAAiD,IAFtD,GADJ,cAMI,KAAC,YAAD,EAAc,aAAa,CAAEF,YAAY,CAACM,KAA1C,EANJ,GAFJ,GAFR,EADJ,CAiBH,CAtC2B,CAA5B,CAwCA,cAAeR,CAAAA,WAAf","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport ResponseDataState from \"../../store/ResponseDataState\";\nimport ApiService from \"../../API/ApiService\";\nimport FiltersPanel from \"../../components/FiltersPanel/FiltersPanel\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport ResultsBlock from \"../../components/ResultsBlock/ResultsBlock\";\nimport ItemsFoundCounter from \"../../components/ItemsFoundCounter/ItemsFoundCounter\";\nimport FiltersSettingsState from \"../../store/FiltersSettingsState\";\nimport \"./CatalogPage.scss\";\n\nconst CatalogPage = observer(() => {\n    const apiService = new ApiService();\n\n    const { responseData } = ResponseDataState;\n    const { isMobile } = PageWidthState;\n    const { isFiltersShown } = FiltersSettingsState;\n\n\n    const filtersWrapRef = useRef(null);\n\n    useEffect(() => {\n        console.log('catalog-page')\n        if (!responseData?.items) {\n            apiService.getData().then((data) => {\n                ResponseDataState.setResponseData(data);\n            });\n        }\n\n\n    }, []);\n\n    return (\n        <>\n            {responseData && (\n                <div className=\"catalog-page\">\n                    <h1 className=\"catalog-page__title\">Каталог</h1>\n                    <div className=\"catalog-page__inner\">\n                        <div className=\"catalog-page__filters-wrap\" ref={filtersWrapRef}>\n                            <ItemsFoundCounter />\n                            {!isMobile || isFiltersShown ? <FiltersPanel /> : null}\n                        </div>\n\n                        <ResultsBlock responseItems={responseData.items} />\n                    </div>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default CatalogPage;\n"]},"metadata":{},"sourceType":"module"}