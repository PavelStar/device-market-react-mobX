{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pavel\\\\Desktop\\\\js\\\\device-market-master\\\\client\\\\src\\\\components\\\\FiltersPanel\\\\FiltersPanel.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport CheckboxCategory from \"./CheckboxCategory/CheckboxCategory\";\nimport CheckboxBrand from \"./CheckboxBrand/CheckboxBrand\";\nimport FiltersSettingsState from \"../../store/FiltersSettingsState\";\nimport ResponseDataState from \"../../store/ResponseDataState\";\nimport PriceRange from \"../PriceRange/PriceRange\";\nimport Switcher from \"../Switcher/Switcher\";\nimport ClearFiltersBtn from \"../buttons/ResetFiltersBtn/ResetFiltersBtn\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport { ScrollLockOnFixed } from \"../../Utils/ScrollLockOnFixed\";\nimport CloseBtn from \"../svg/CloseBtn\";\nimport './FiltersPanel.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FiltersPanel = observer(_c = _s(_ref => {\n  _s();\n\n  let {\n    itemsToShowCount,\n    isFiltersPanelShown,\n    setIsFiltersPanelShown\n  } = _ref;\n  const {\n    isMobile\n  } = PageWidthState;\n  const filtersRef = useRef(null);\n  const showBtnRef = useRef(null);\n  useEffect(() => {\n    console.log('filters blocking');\n\n    if (filtersRef.current && isMobile) {\n      ScrollLockOnFixed(\"disabled\", filtersRef);\n    }\n\n    return () => {\n      if (filtersRef.current && isMobile) {\n        ScrollLockOnFixed(\"enabled\", filtersRef);\n      }\n    };\n  }, []);\n  const {\n    isAvailable,\n    isDiscount\n  } = FiltersSettingsState;\n  const {\n    responseData\n  } = ResponseDataState;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filters-panel\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters-panel__filter-wrap\",\n      ref: filtersRef,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"filters-panel__title\",\n        children: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-panel__reset-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(ClearFiltersBtn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          // onClick={showFilters}\n          className: \"filters-panel__close-btn\",\n          children: /*#__PURE__*/_jsxDEV(CloseBtn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"filters-panel__category-sorting-list\",\n        children: responseData === null || responseData === void 0 ? void 0 : responseData.categories.map(category => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"filters-panel__category-sorting-item\",\n            children: /*#__PURE__*/_jsxDEV(CheckboxCategory, {\n              category: category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 8\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"filters-panel__brand-sorting-list\",\n        children: responseData === null || responseData === void 0 ? void 0 : responseData.brands.map(brand => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"filters-panel__brand-sorting-item\",\n            children: /*#__PURE__*/_jsxDEV(CheckboxBrand, {\n              brand: brand\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 8\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PriceRange, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"filters-panel__switch-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"filters-panel__switch-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"filters-panel__switch-text\",\n            children: \"\\u0412 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Switcher, {\n            name: \"isAvailableSwitch\",\n            state: isAvailable\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"filters-panel__switch-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"filters-panel__switch-text\",\n            children: \"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Switcher, {\n            name: \"isDiscountSwitch\",\n            state: isDiscount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-panel__results-btn-wrap\",\n        ref: showBtnRef,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"filters-panel__results-btn\" // onClick={showFilters}\n          ,\n          children: [\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C (\", itemsToShowCount, \") \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n}, \"yoD97dXg2KQuY6SvIgxQ3npqdWk=\"));\n_c2 = FiltersPanel;\nexport default FiltersPanel;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FiltersPanel$observer\");\n$RefreshReg$(_c2, \"FiltersPanel\");","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/FiltersPanel/FiltersPanel.tsx"],"names":["React","useEffect","useRef","observer","CheckboxCategory","CheckboxBrand","FiltersSettingsState","ResponseDataState","PriceRange","Switcher","ClearFiltersBtn","PageWidthState","ScrollLockOnFixed","CloseBtn","FiltersPanel","itemsToShowCount","isFiltersPanelShown","setIsFiltersPanelShown","isMobile","filtersRef","showBtnRef","console","log","current","isAvailable","isDiscount","responseData","categories","map","category","brands","brand"],"mappings":"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","sourcesContent":["import React, { ReactFragment, useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { ICategory } from \"../../interfaces/ICategory\";\nimport CheckboxCategory from \"./CheckboxCategory/CheckboxCategory\";\nimport CheckboxBrand from \"./CheckboxBrand/CheckboxBrand\";\nimport FiltersSettingsState from \"../../store/FiltersSettingsState\";\nimport ResponseDataState from \"../../store/ResponseDataState\";\nimport PriceRange from \"../PriceRange/PriceRange\";\nimport Switcher from \"../Switcher/Switcher\";\nimport ClearFiltersBtn from \"../buttons/ResetFiltersBtn/ResetFiltersBtn\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport { ScrollLockOnFixed } from \"../../Utils/ScrollLockOnFixed\";\nimport CloseBtn from \"../svg/CloseBtn\";\nimport './FiltersPanel.scss'\n\n\ninterface IFiltersPanel {\n\titemsToShowCount?: number;\n\tisFiltersPanelShown?: boolean;\n\tsetIsFiltersPanelShown?: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\n\nconst FiltersPanel: React.FC<IFiltersPanel> = observer(({ itemsToShowCount, isFiltersPanelShown, setIsFiltersPanelShown }) => {\n\n\tconst { isMobile } = PageWidthState;\n\n\tconst filtersRef = useRef(null)\n\tconst showBtnRef = useRef(null)\n\n\n\n\tuseEffect(() => {\n\t\tconsole.log('filters blocking')\n\t\tif (filtersRef.current && isMobile) {\n\n\t\t\tScrollLockOnFixed(\"disabled\", filtersRef)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (filtersRef.current && isMobile) {\n\n\t\t\t\tScrollLockOnFixed(\"enabled\", filtersRef)\n\t\t\t}\n\t\t}\n\t}, [])\n\n\n\n\n\tconst { isAvailable, isDiscount } = FiltersSettingsState\n\tconst { responseData } = ResponseDataState\n\n\n\n\n\treturn (\n\t\t<div className=\"filters-panel\" >\n\t\t\t<div className=\"filters-panel__filter-wrap\" ref={filtersRef}>\n\t\t\t\t<h2 className=\"filters-panel__title\">Фильтры</h2>\n\t\t\t\t<div className=\"filters-panel__reset-wrap\">\n\n\t\t\t\t\t<ClearFiltersBtn />\n\t\t\t\t\t<button\n\t\t\t\t\t\t// onClick={showFilters}\n\t\t\t\t\t\tclassName=\"filters-panel__close-btn\">\n\t\t\t\t\t\t<CloseBtn />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<ul className=\"filters-panel__category-sorting-list\">\n\t\t\t\t\t{responseData?.categories.map((category: ICategory) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"filters-panel__category-sorting-item\">\n\t\t\t\t\t\t\t\t<CheckboxCategory category={category} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<ul className=\"filters-panel__brand-sorting-list\">\n\t\t\t\t\t{responseData?.brands.map((brand: string) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"filters-panel__brand-sorting-item\">\n\t\t\t\t\t\t\t\t<CheckboxBrand brand={brand} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<PriceRange />\n\t\t\t\t<ul className=\"filters-panel__switch-list\">\n\t\t\t\t\t<li className=\"filters-panel__switch-item\">\n\t\t\t\t\t\t<p className=\"filters-panel__switch-text\">В наличии</p>\n\t\t\t\t\t\t<Switcher name=\"isAvailableSwitch\" state={isAvailable} />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"filters-panel__switch-item\">\n\t\t\t\t\t\t<p className=\"filters-panel__switch-text\">Скидка</p>\n\t\t\t\t\t\t<Switcher name=\"isDiscountSwitch\" state={isDiscount} />\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t{isMobile &&\n\t\t\t\t\t<div className=\"filters-panel__results-btn-wrap\" ref={showBtnRef}>\n\t\t\t\t\t\t<button className=\"filters-panel__results-btn\"\n\t\t\t\t\t\t// onClick={showFilters}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПоказать ({itemsToShowCount}) товаров\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default FiltersPanel;\n"]},"metadata":{},"sourceType":"module"}