{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pavel\\\\Desktop\\\\js\\\\device-market-master\\\\client\\\\src\\\\components\\\\Header\\\\Header.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport Logo from \"./../../components/Logo/Logo\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Cart from \"./Cart/Cart\";\nimport User from \"./User/User\";\nimport { observer } from \"mobx-react-lite\";\nimport LoginState from \"../../store/LoginState\";\nimport CatalogLink from \"../buttons/CatalogLink/CatalogLink\";\nimport SearchState from \"../../store/SearchState\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport NavBarItem from \"./NavBarItem/NavBarItem\";\nimport SearchIcon from \"../svg/SearchIcon\";\nimport LoginPopup from \"../LoginPopup/LoginPopup\";\nimport \"./Header.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Header = observer(_c = _s(() => {\n  _s();\n\n  const headerRef = useRef(null);\n  const headerNavRef = useRef(null);\n  const {\n    isPopupShown\n  } = LoginState;\n  const {\n    isSearchShown,\n    headerHeight,\n    searchBarHeight\n  } = SearchState;\n  const {\n    isMobile\n  } = PageWidthState;\n  useEffect(() => {\n    var _headerRef$current;\n\n    headerRef.current && SearchState.setHeaderHeight((_headerRef$current = headerRef.current) === null || _headerRef$current === void 0 ? void 0 : _headerRef$current.clientHeight);\n  }, []);\n  useEffect(() => {\n    if (!isMobile) {\n      var _headerRef$current2;\n\n      document.body.style.setProperty(\"padding-top\", `${(_headerRef$current2 = headerRef.current) === null || _headerRef$current2 === void 0 ? void 0 : _headerRef$current2.clientHeight}px`);\n    } else {\n      document.body.style.setProperty(\"padding-top\", `${0}px`);\n    }\n  }, [isMobile]);\n\n  const showSearch = () => {\n    SearchState.setIsSearchShown(true); // PageWidthState.setScrollYPosition(window.scrollY)\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isPopupShown && /*#__PURE__*/_jsxDEV(LoginPopup, {\n      headerRef: headerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: !isSearchShown && isMobile ? \"header\" : \"header header--to-top\",\n      ref: headerRef,\n      children: isSearchShown ? /*#__PURE__*/_jsxDEV(SearchBar, {\n        headerRef: headerRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__nav\",\n        ref: headerNavRef,\n        children: [/*#__PURE__*/_jsxDEV(Logo, {\n          logoType: \"navigation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(CatalogLink, {\n          isNav: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"header__show-mobile-search-btn\",\n          onClick: showSearch,\n          children: /*#__PURE__*/_jsxDEV(NavBarItem, {\n            itemIcon: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 51\n            }, this),\n            itemName: \"Поиск\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}, \"Hjuj+DN593yt6kzkGqIjTLi5BAw=\"));\n_c2 = Header;\nexport default Header;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header$observer\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Header/Header.tsx"],"names":["React","useEffect","useRef","Logo","SearchBar","Cart","User","observer","LoginState","CatalogLink","SearchState","PageWidthState","NavBarItem","SearchIcon","LoginPopup","Header","headerRef","headerNavRef","isPopupShown","isSearchShown","headerHeight","searchBarHeight","isMobile","current","setHeaderHeight","clientHeight","document","body","style","setProperty","showSearch","setIsSearchShown"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"./../../components/Logo/Logo\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Cart from \"./Cart/Cart\";\nimport User from \"./User/User\";\n\nimport { observer } from \"mobx-react-lite\";\nimport LoginState from \"../../store/LoginState\";\nimport CatalogLink from \"../buttons/CatalogLink/CatalogLink\";\nimport SearchState from \"../../store/SearchState\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport NavBarItem from \"./NavBarItem/NavBarItem\";\nimport SearchIcon from \"../svg/SearchIcon\";\nimport LoginPopup from \"../LoginPopup/LoginPopup\";\nimport \"./Header.scss\";\n\nconst Header = observer(() => {\n    const headerRef = useRef<HTMLDivElement>(null);\n    const headerNavRef = useRef<HTMLDivElement>(null);\n    const { isPopupShown } = LoginState;\n    const { isSearchShown, headerHeight, searchBarHeight } = SearchState;\n\n    const { isMobile } = PageWidthState;\n\n    useEffect(() => {\n        headerRef.current && SearchState.setHeaderHeight(headerRef.current?.clientHeight)\n    }, [])\n\n    useEffect(() => {\n        if (!isMobile) {\n            document.body.style.setProperty(\"padding-top\", `${headerRef.current?.clientHeight}px`)\n        } else {\n            document.body.style.setProperty(\"padding-top\", `${0}px`)\n\n        }\n    }, [isMobile])\n\n\n\n    const showSearch = () => {\n        SearchState.setIsSearchShown(true)\n        // PageWidthState.setScrollYPosition(window.scrollY)\n    }\n\n    return (\n        <>\n            {isPopupShown && <LoginPopup headerRef={headerRef} />}\n\n            <header className={!isSearchShown && isMobile ? \"header\" : \"header header--to-top\"} ref={headerRef} >\n                {isSearchShown ? (\n                    <SearchBar headerRef={headerRef} />\n                ) : (\n                    <div className=\"header__nav\" ref={headerNavRef}>\n                        <Logo logoType=\"navigation\" />\n                        <CatalogLink isNav={true} />\n                        <button\n                            className=\"header__show-mobile-search-btn\"\n                            onClick={showSearch}\n                        >\n                            <NavBarItem itemIcon={<SearchIcon />} itemName={\"Поиск\"} />\n                        </button>\n                        <User />\n                        <Cart />\n                    </div>\n                )}\n            </header>\n        </>\n    );\n});\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}