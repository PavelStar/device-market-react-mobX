{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pavel/Desktop/js/device-market-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import CartState from'../../../store/CartState';import CloseBtn from'../../svg/CloseBtn';import Counter from'../Counter/Counter';import'./CartItem.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartItem=function CartItem(_ref){var cartItem=_ref.cartItem;var cartItems=CartState.cartItems,priceSum=CartState.priceSum;var count=cartItem.count,_cartItem$itemData=cartItem.itemData,categoryType=_cartItem$itemData.categoryType,title=_cartItem$itemData.title,_cartItem$itemData$im=_cartItem$itemData.images,sliderImages=_cartItem$itemData$im.sliderImages,snippetImage=_cartItem$itemData$im.snippetImage,_cartItem$itemData$pr=_cartItem$itemData.priceInfo,fullPrice=_cartItem$itemData$pr.fullPrice,discountAmount=_cartItem$itemData$pr.discountAmount,memory=_cartItem$itemData.features.memory;var removeFromCart=function removeFromCart(){var deleteCount;CartState.setCartItems(_toConsumableArray(cartItems.filter(function(i){if(i.itemData.id===cartItem.itemData.id)deleteCount=i.count;return i.itemData.id!==cartItem.itemData.id;})));};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cart-item__img\",src:snippetImage,alt:\"img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item__text-wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"cart-item__title\",children:\"\".concat(categoryType,\" \").concat(title,\", \").concat(memory)}),cartItem.count>1?/*#__PURE__*/_jsxs(\"b\",{className:\"cart-item__price\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"cart-item__price-count\",children:[fullPrice-discountAmount,\" x \",cartItem.count,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"cart-item__total\",children:[(fullPrice-discountAmount)*cartItem.count,\" \\u0440\\u0443\\u0431.\"]})]}):/*#__PURE__*/_jsxs(\"b\",{className:\"cart-item__price\",children:[fullPrice-discountAmount,\" \\u0440\\u0443\\u0431.\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-item__delete-btn\",onClick:function onClick(){return removeFromCart();},children:/*#__PURE__*/_jsx(CloseBtn,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item__counter\",children:/*#__PURE__*/_jsx(Counter,{itemPrice:cartItem.count*(fullPrice-discountAmount),cartItem:cartItem})})]});};export default CartItem;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Cart/CartItem/CartItem.tsx"],"names":["CartState","CloseBtn","Counter","CartItem","cartItem","cartItems","priceSum","count","itemData","categoryType","title","images","sliderImages","snippetImage","priceInfo","fullPrice","discountAmount","memory","features","removeFromCart","deleteCount","setCartItems","filter","i","id"],"mappings":"oLAGA,MAAOA,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,iBAAP,C,wFAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA2C,IAAxCC,CAAAA,QAAwC,MAAxCA,QAAwC,CAExD,GAAQC,CAAAA,SAAR,CAAgCL,SAAhC,CAAQK,SAAR,CAAmBC,QAAnB,CAAgCN,SAAhC,CAAmBM,QAAnB,CACA,GAAQC,CAAAA,KAAR,CAA6JH,QAA7J,CAAQG,KAAR,oBAA6JH,QAA7J,CAAeI,QAAf,CAA2BC,YAA3B,oBAA2BA,YAA3B,CAAyCC,KAAzC,oBAAyCA,KAAzC,0CAAgDC,MAAhD,CAA0DC,YAA1D,uBAA0DA,YAA1D,CAAwEC,YAAxE,uBAAwEA,YAAxE,0CAAwFC,SAAxF,CAAqGC,SAArG,uBAAqGA,SAArG,CAAgHC,cAAhH,uBAAgHA,cAAhH,CAA8IC,MAA9I,oBAAkIC,QAAlI,CAA8ID,MAA9I,CAMA,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAEzB,GAAIC,CAAAA,WAAJ,CAEApB,SAAS,CAACqB,YAAV,oBACOhB,SAAS,CAACiB,MAAV,CAAiB,SAACC,CAAD,CAAO,CACvB,GAAIA,CAAC,CAACf,QAAF,CAAWgB,EAAX,GAAkBpB,QAAQ,CAACI,QAAT,CAAkBgB,EAAxC,CAA4CJ,WAAW,CAAGG,CAAC,CAAChB,KAAhB,CAC5C,MAAOgB,CAAAA,CAAC,CAACf,QAAF,CAAWgB,EAAX,GAAkBpB,QAAQ,CAACI,QAAT,CAAkBgB,EAA3C,CACH,CAHE,CADP,GAOH,CAXD,CAaA,mBACI,aAAK,SAAS,CAAC,WAAf,wBAEI,YAAK,SAAS,CAAC,gBAAf,CAAgC,GAAG,CAAEX,YAArC,CAAmD,GAAG,CAAC,KAAvD,EAFJ,cAII,aAAK,SAAS,CAAC,sBAAf,wBACI,WAAI,SAAS,CAAC,kBAAd,oBACQJ,YADR,aACwBC,KADxB,cACkCO,MADlC,GADJ,CAIKb,QAAQ,CAACG,KAAT,CAAiB,CAAjB,cACG,WAAG,SAAS,CAAC,kBAAb,wBACI,cAAM,SAAS,CAAC,wBAAhB,WAA2CQ,SAAS,CAAGC,cAAvD,OAA2EZ,QAAQ,CAACG,KAApF,OADJ,cAEI,cAAM,SAAS,CAAC,kBAAhB,WAAoC,CAACQ,SAAS,CAAGC,cAAb,EAA+BZ,QAAQ,CAACG,KAA5E,0BAFJ,GADH,cAOG,WAAG,SAAS,CAAC,kBAAb,WACMQ,SAAS,CAAGC,cADlB,0BAXR,GAJJ,cAsBI,eAAQ,SAAS,CAAC,uBAAlB,CACI,OAAO,CAAE,yBAAMG,CAAAA,cAAc,EAApB,EADb,uBAGI,KAAC,QAAD,IAHJ,EAtBJ,cA2BI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,OAAD,EAAS,SAAS,CAAEf,QAAQ,CAACG,KAAT,EAAkBQ,SAAS,CAAGC,cAA9B,CAApB,CAAmE,QAAQ,CAAEZ,QAA7E,EADJ,EA3BJ,GADJ,CAiCH,CAvDD,CAyDA,cAAeD,CAAAA,QAAf","sourcesContent":["import { toJS } from 'mobx';\r\nimport { useEffect, useState } from 'react';\r\nimport { ICartItem } from '../../../interfaces/ICartItem';\r\nimport CartState from '../../../store/CartState';\r\nimport CloseBtn from '../../svg/CloseBtn';\r\nimport Counter from '../Counter/Counter';\r\nimport './CartItem.scss'\r\n\r\n\r\nconst CartItem = ({ cartItem }: { cartItem: ICartItem }) => {\r\n\r\n    const { cartItems, priceSum } = CartState;\r\n    const { count, itemData: { categoryType, title, images: { sliderImages, snippetImage }, priceInfo: { fullPrice, discountAmount }, features: { memory } } } = cartItem;\r\n\r\n\r\n\r\n\r\n\r\n    const removeFromCart = () => {\r\n\r\n        let deleteCount: number | undefined;\r\n\r\n        CartState.setCartItems([\r\n            ...cartItems.filter((i) => {\r\n                if (i.itemData.id === cartItem.itemData.id) deleteCount = i.count\r\n                return i.itemData.id !== cartItem.itemData.id;\r\n            }),\r\n        ]);\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"cart-item\">\r\n\r\n            <img className=\"cart-item__img\" src={snippetImage} alt=\"img\" />\r\n\r\n            <div className=\"cart-item__text-wrap\">\r\n                <h3 className=\"cart-item__title\">\r\n                    {`${categoryType} ${title}, ${memory}`}\r\n                </h3>\r\n                {cartItem.count > 1 ? (\r\n                    <b className=\"cart-item__price\">\r\n                        <span className=\"cart-item__price-count\">{(fullPrice - discountAmount)} x {cartItem.count} </span>\r\n                        <span className=\"cart-item__total\">{(fullPrice - discountAmount) * cartItem.count} руб.</span>\r\n\r\n                    </b>\r\n                ) :\r\n                    <b className=\"cart-item__price\">\r\n                        {(fullPrice - discountAmount)} руб.\r\n                    </b>\r\n                }\r\n            </div>\r\n\r\n\r\n            <button className=\"cart-item__delete-btn\"\r\n                onClick={() => removeFromCart()}\r\n            >\r\n                <CloseBtn />\r\n            </button>\r\n            <div className=\"cart-item__counter\">\r\n                <Counter itemPrice={cartItem.count * (fullPrice - discountAmount)} cartItem={cartItem} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItem"]},"metadata":{},"sourceType":"module"}