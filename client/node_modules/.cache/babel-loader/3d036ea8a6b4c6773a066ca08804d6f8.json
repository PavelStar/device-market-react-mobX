{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import Logo from\"./../../components/Logo/Logo\";import SearchBar from\"../SearchBar/SearchBar\";import Cart from\"./Cart/Cart\";import User from\"./User/User\";import{observer}from\"mobx-react-lite\";import LoginState from\"../../store/LoginState\";import CatalogLink from\"../buttons/CatalogLink/CatalogLink\";import SearchState from\"../../store/SearchState\";import PageWidthState from\"../../store/PageWidthState\";import NavBarItem from\"./NavBarItem/NavBarItem\";import SearchIcon from\"../svg/SearchIcon\";import\"./Header.scss\";import LoginPopup from\"../LoginPopup/LoginPopup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=observer(function(){var headerRef=useRef(null);var headerNavRef=useRef(null);var isPopupShown=LoginState.isPopupShown;var isSearchShown=SearchState.isSearchShown,headerHeight=SearchState.headerHeight,searchBarHeight=SearchState.searchBarHeight;var isMobile=PageWidthState.isMobile;useEffect(function(){var _headerRef$current;headerRef.current&&SearchState.setHeaderHeight((_headerRef$current=headerRef.current)===null||_headerRef$current===void 0?void 0:_headerRef$current.clientHeight);},[]);useEffect(function(){if(!isMobile){var _headerRef$current2;document.body.style.setProperty(\"padding-top\",\"\".concat((_headerRef$current2=headerRef.current)===null||_headerRef$current2===void 0?void 0:_headerRef$current2.clientHeight,\"px\"));}else{document.body.style.setProperty(\"padding-top\",\"\".concat(0,\"px\"));}},[isMobile]);var showSearch=function showSearch(){SearchState.setIsSearchShown(true);PageWidthState.setScrollYPosition(window.scrollY);};return/*#__PURE__*/_jsxs(_Fragment,{children:[isPopupShown&&/*#__PURE__*/_jsx(LoginPopup,{headerRef:headerRef}),/*#__PURE__*/_jsx(\"header\",{className:!isSearchShown&&isMobile?\"header\":\"header header--to-top\",ref:headerRef,children:isSearchShown?/*#__PURE__*/_jsx(SearchBar,{headerRef:headerRef}):/*#__PURE__*/_jsxs(\"div\",{className:\"header__nav\",ref:headerNavRef,children:[/*#__PURE__*/_jsx(Logo,{logoType:\"navigation\"}),/*#__PURE__*/_jsx(CatalogLink,{isNav:true}),/*#__PURE__*/_jsx(\"button\",{className:\"header__show-mobile-search-btn\",onClick:showSearch,children:/*#__PURE__*/_jsx(NavBarItem,{itemIcon:/*#__PURE__*/_jsx(SearchIcon,{}),itemName:\"Поиск\"})}),/*#__PURE__*/_jsx(User,{}),/*#__PURE__*/_jsx(Cart,{})]})})]});});export default Header;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Header/Header.tsx"],"names":["React","useEffect","useRef","Logo","SearchBar","Cart","User","observer","LoginState","CatalogLink","SearchState","PageWidthState","NavBarItem","SearchIcon","LoginPopup","Header","headerRef","headerNavRef","isPopupShown","isSearchShown","headerHeight","searchBarHeight","isMobile","current","setHeaderHeight","clientHeight","document","body","style","setProperty","showSearch","setIsSearchShown","setScrollYPosition","window","scrollY"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAmD,OAAnD,CAEA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CAEA,OAASC,QAAT,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,oCAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,6IAEA,GAAMC,CAAAA,MAAM,CAAGR,QAAQ,CAAC,UAAM,CAC1B,GAAMS,CAAAA,SAAS,CAAGd,MAAM,CAAiB,IAAjB,CAAxB,CACA,GAAMe,CAAAA,YAAY,CAAGf,MAAM,CAAiB,IAAjB,CAA3B,CACA,GAAQgB,CAAAA,YAAR,CAAyBV,UAAzB,CAAQU,YAAR,CACA,GAAQC,CAAAA,aAAR,CAAyDT,WAAzD,CAAQS,aAAR,CAAuBC,YAAvB,CAAyDV,WAAzD,CAAuBU,YAAvB,CAAqCC,eAArC,CAAyDX,WAAzD,CAAqCW,eAArC,CAEA,GAAQC,CAAAA,QAAR,CAAqBX,cAArB,CAAQW,QAAR,CAEArB,SAAS,CAAC,UAAM,wBACZe,SAAS,CAACO,OAAV,EAAqBb,WAAW,CAACc,eAAZ,qBAA4BR,SAAS,CAACO,OAAtC,6CAA4B,mBAAmBE,YAA/C,CAArB,CACH,CAFQ,CAEN,EAFM,CAAT,CAIAxB,SAAS,CAAC,UAAM,CACZ,GAAI,CAACqB,QAAL,CAAe,yBACXI,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,WAApB,CAAgC,aAAhC,gCAAkDb,SAAS,CAACO,OAA5D,8CAAkD,oBAAmBE,YAArE,QACH,CAFD,IAEO,CACHC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,WAApB,CAAgC,aAAhC,WAAkD,CAAlD,QAEH,CACJ,CAPQ,CAON,CAACP,QAAD,CAPM,CAAT,CAWA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBpB,WAAW,CAACqB,gBAAZ,CAA6B,IAA7B,EACApB,cAAc,CAACqB,kBAAf,CAAkCC,MAAM,CAACC,OAAzC,EACH,CAHD,CAKA,mBACI,2BACKhB,YAAY,eAAI,KAAC,UAAD,EAAY,SAAS,CAAEF,SAAvB,EADrB,cAGI,eAAQ,SAAS,CAAE,CAACG,aAAD,EAAkBG,QAAlB,CAA6B,QAA7B,CAAwC,uBAA3D,CAAoF,GAAG,CAAEN,SAAzF,UACKG,aAAa,cACV,KAAC,SAAD,EAAW,SAAS,CAAEH,SAAtB,EADU,cAGV,aAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEC,YAAlC,wBACI,KAAC,IAAD,EAAM,QAAQ,CAAC,YAAf,EADJ,cAEI,KAAC,WAAD,EAAa,KAAK,CAAE,IAApB,EAFJ,cAGI,eACI,SAAS,CAAC,gCADd,CAEI,OAAO,CAAEa,UAFb,uBAII,KAAC,UAAD,EAAY,QAAQ,cAAE,KAAC,UAAD,IAAtB,CAAsC,QAAQ,CAAE,OAAhD,EAJJ,EAHJ,cASI,KAAC,IAAD,IATJ,cAUI,KAAC,IAAD,IAVJ,GAJR,EAHJ,GADJ,CAwBH,CApDsB,CAAvB,CAsDA,cAAef,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"./../../components/Logo/Logo\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Cart from \"./Cart/Cart\";\nimport User from \"./User/User\";\n\nimport { observer } from \"mobx-react-lite\";\nimport LoginState from \"../../store/LoginState\";\nimport CatalogLink from \"../buttons/CatalogLink/CatalogLink\";\nimport SearchState from \"../../store/SearchState\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport NavBarItem from \"./NavBarItem/NavBarItem\";\nimport SearchIcon from \"../svg/SearchIcon\";\nimport \"./Header.scss\";\nimport LoginPopup from \"../LoginPopup/LoginPopup\";\n\nconst Header = observer(() => {\n    const headerRef = useRef<HTMLDivElement>(null);\n    const headerNavRef = useRef<HTMLDivElement>(null);\n    const { isPopupShown } = LoginState;\n    const { isSearchShown, headerHeight, searchBarHeight } = SearchState;\n\n    const { isMobile } = PageWidthState;\n\n    useEffect(() => {\n        headerRef.current && SearchState.setHeaderHeight(headerRef.current?.clientHeight)\n    }, [])\n\n    useEffect(() => {\n        if (!isMobile) {\n            document.body.style.setProperty(\"padding-top\", `${headerRef.current?.clientHeight}px`)\n        } else {\n            document.body.style.setProperty(\"padding-top\", `${0}px`)\n\n        }\n    }, [isMobile])\n\n\n\n    const showSearch = () => {\n        SearchState.setIsSearchShown(true)\n        PageWidthState.setScrollYPosition(window.scrollY)\n    }\n\n    return (\n        <>\n            {isPopupShown && <LoginPopup headerRef={headerRef} />}\n\n            <header className={!isSearchShown && isMobile ? \"header\" : \"header header--to-top\"} ref={headerRef} >\n                {isSearchShown ? (\n                    <SearchBar headerRef={headerRef} />\n                ) : (\n                    <div className=\"header__nav\" ref={headerNavRef}>\n                        <Logo logoType=\"navigation\" />\n                        <CatalogLink isNav={true} />\n                        <button\n                            className=\"header__show-mobile-search-btn\"\n                            onClick={showSearch}\n                        >\n                            <NavBarItem itemIcon={<SearchIcon />} itemName={\"Поиск\"} />\n                        </button>\n                        <User />\n                        <Cart />\n                    </div>\n                )}\n            </header>\n        </>\n    );\n});\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}