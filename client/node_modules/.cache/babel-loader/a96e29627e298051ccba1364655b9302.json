{"ast":null,"code":"import _slicedToArray from\"C:/Users/Pavel/Desktop/js/device-market-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{observer}from\"mobx-react-lite\";import React,{useEffect,useState}from\"react\";import FiltersSettingsState from\"../../store/FiltersSettingsState\";import\"./Pagination.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";var Pagination=observer(function(){var allFilteredItems=FiltersSettingsState.allFilteredItems,resultsByPagination=FiltersSettingsState.resultsByPagination;var _useState=useState(6),_useState2=_slicedToArray(_useState,2),itemsPerPage=_useState2[0],setItemsPerPage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),startIndex=_useState4[0],setStartIndex=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),buttonsList=_useState6[0],setButtonsList=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),selectedBtn=_useState8[0],setSelectedBtn=_useState8[1];useEffect(function(){var arrOfNumbers=[];if(allFilteredItems!==undefined){for(var i=1;i<=Math.ceil(allFilteredItems.length/itemsPerPage);i++){arrOfNumbers.push(i);}setButtonsList(arrOfNumbers);setStartIndex(0);setSelectedBtn(1);}},[allFilteredItems]);useEffect(function(){allFilteredItems&&FiltersSettingsState.setResultsByPagination(allFilteredItems.slice(startIndex,startIndex+itemsPerPage));},[buttonsList,selectedBtn]);var buttonHandleClick=function buttonHandleClick(number){setStartIndex((number-1)*itemsPerPage);setSelectedBtn(number);};return/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"pagination__list\",children:buttonsList===null||buttonsList===void 0?void 0:buttonsList.map(function(number){return/*#__PURE__*/_jsx(\"li\",{className:\"pagination__item\",children:/*#__PURE__*/_jsx(\"button\",{className:selectedBtn===number?\"pagination__btn-number active\":\"pagination__btn-number\",onClick:function onClick(){return buttonHandleClick(number);},children:number})});})})});});export default Pagination;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Pagination/Pagination.tsx"],"names":["observer","React","useEffect","useState","FiltersSettingsState","Pagination","allFilteredItems","resultsByPagination","itemsPerPage","setItemsPerPage","startIndex","setStartIndex","buttonsList","setButtonsList","selectedBtn","setSelectedBtn","arrOfNumbers","undefined","i","Math","ceil","length","push","setResultsByPagination","slice","buttonHandleClick","number","map"],"mappings":"4KAAA,OAASA,QAAT,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,oBAAP,KAAiC,kCAAjC,CAEA,MAAO,mBAAP,C,2CAMA,GAAMC,CAAAA,UAAiC,CAAGL,QAAQ,CAAC,UAAM,CAIrD,GAAQM,CAAAA,gBAAR,CAAkDF,oBAAlD,CAAQE,gBAAR,CAA0BC,mBAA1B,CAAkDH,oBAAlD,CAA0BG,mBAA1B,CAEA,cAAwCJ,QAAQ,CAAS,CAAT,CAAhD,wCAAOK,YAAP,eAAqBC,eAArB,eACA,eAAoCN,QAAQ,CAAS,CAAT,CAA5C,yCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAAsCR,QAAQ,EAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,eAAsCV,QAAQ,CAAS,CAAT,CAA9C,yCAAOW,WAAP,eAAoBC,cAApB,eAIAb,SAAS,CAAC,UAAM,CACZ,GAAIc,CAAAA,YAAsB,CAAG,EAA7B,CAEA,GAAIV,gBAAgB,GAAKW,SAAzB,CAAoC,CAChC,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIC,IAAI,CAACC,IAAL,CAAUd,gBAAgB,CAACe,MAAjB,CAA0Bb,YAApC,CAArB,CAAwEU,CAAC,EAAzE,CAA6E,CACzEF,YAAY,CAACM,IAAb,CAAkBJ,CAAlB,EACH,CAEDL,cAAc,CAACG,YAAD,CAAd,CACAL,aAAa,CAAC,CAAD,CAAb,CACAI,cAAc,CAAC,CAAD,CAAd,CACH,CACJ,CAZQ,CAYN,CAACT,gBAAD,CAZM,CAAT,CAeAJ,SAAS,CAAC,UAAM,CACZI,gBAAgB,EAAIF,oBAAoB,CAACmB,sBAArB,CAA4CjB,gBAAgB,CAACkB,KAAjB,CAAuBd,UAAvB,CAAmCA,UAAU,CAAGF,YAAhD,CAA5C,CAApB,CACH,CAFQ,CAEN,CAACI,WAAD,CAAcE,WAAd,CAFM,CAAT,CAKA,GAAMW,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,MAAD,CAAoB,CAC1Cf,aAAa,CAAC,CAACe,MAAM,CAAG,CAAV,EAAelB,YAAhB,CAAb,CACAO,cAAc,CAACW,MAAD,CAAd,CACH,CAHD,CAOA,mBACI,YAAK,SAAS,CAAC,YAAf,uBACI,WAAI,SAAS,CAAC,kBAAd,UACKd,WADL,SACKA,WADL,iBACKA,WAAW,CAAEe,GAAb,CAAiB,SAACD,MAAD,CAAY,CAC1B,mBACI,WAAI,SAAS,CAAC,kBAAd,uBACI,eACI,SAAS,CACLZ,WAAW,GAAKY,MAAhB,CACM,+BADN,CAEM,wBAJd,CAMI,OAAO,CAAE,yBAAMD,CAAAA,iBAAiB,CAACC,MAAD,CAAvB,EANb,UAQKA,MARL,EADJ,EADJ,CAcH,CAfA,CADL,EADJ,EADJ,CAsBH,CA9DiD,CAAlD,CAgEA,cAAerB,CAAAA,UAAf","sourcesContent":["import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { IItemData } from \"../../interfaces/IItemData\";\r\nimport FiltersSettingsState from \"../../store/FiltersSettingsState\";\r\nimport { SetFilterSettings } from \"../../Utils/SetFilterSettings\";\r\nimport \"./Pagination.scss\";\r\n\r\ninterface IPagination {\r\n    allFilteredItems?: IItemData[] | undefined;\r\n}\r\n\r\nconst Pagination: React.FC<IPagination> = observer(() => {\r\n\r\n\r\n\r\n    const { allFilteredItems, resultsByPagination } = FiltersSettingsState;\r\n\r\n    const [itemsPerPage, setItemsPerPage] = useState<number>(6);\r\n    const [startIndex, setStartIndex] = useState<number>(0);\r\n    const [buttonsList, setButtonsList] = useState<number[] | undefined>();\r\n    const [selectedBtn, setSelectedBtn] = useState<number>(1);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        let arrOfNumbers: number[] = [];\r\n\r\n        if (allFilteredItems !== undefined) {\r\n            for (let i = 1; i <= Math.ceil(allFilteredItems.length / itemsPerPage); i++) {\r\n                arrOfNumbers.push(i);\r\n            }\r\n\r\n            setButtonsList(arrOfNumbers);\r\n            setStartIndex(0)\r\n            setSelectedBtn(1)\r\n        }\r\n    }, [allFilteredItems]);\r\n\r\n\r\n    useEffect(() => {\r\n        allFilteredItems && FiltersSettingsState.setResultsByPagination(allFilteredItems.slice(startIndex, startIndex + itemsPerPage))\r\n    }, [buttonsList, selectedBtn])\r\n\r\n\r\n    const buttonHandleClick = (number: number) => {\r\n        setStartIndex((number - 1) * itemsPerPage);\r\n        setSelectedBtn(number)\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"pagination\">\r\n            <ul className=\"pagination__list\">\r\n                {buttonsList?.map((number) => {\r\n                    return (\r\n                        <li className=\"pagination__item\">\r\n                            <button\r\n                                className={\r\n                                    selectedBtn === number\r\n                                        ? \"pagination__btn-number active\"\r\n                                        : \"pagination__btn-number\"\r\n                                }\r\n                                onClick={() => buttonHandleClick(number)}\r\n                            >\r\n                                {number}\r\n                            </button>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}