{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pavel/Desktop/js/device-market-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import CartState from'../../../store/CartState';import CloseBtn from'../../svg/CloseBtn';import Counter from'../Counter/Counter';import'./CartItem.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartItem=function CartItem(_ref){var item=_ref.item;var cartItems=CartState.cartItems,priceSum=CartState.priceSum;var title=item.title,categoryType=item.categoryType,memory=item.features.memory,images=item.images,_item$priceInfo=item.priceInfo,fullPrice=_item$priceInfo.fullPrice,discountAmount=_item$priceInfo.discountAmount,count=item.count;var removeFromCart=function removeFromCart(item){var _item$priceInfo2=item.priceInfo,fullPrice=_item$priceInfo2.fullPrice,discountAmount=_item$priceInfo2.discountAmount,count=item.count;CartState.setCartItems(_toConsumableArray(cartItems.filter(function(i){return i.id!==item.id;})));CartState.setPriceSum(priceSum-(fullPrice-discountAmount)*count);};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cart-item__img\",src:images.snippetImage,alt:\"img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item__text-wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"cart-item__title\",children:\"\".concat(categoryType,\" \").concat(title,\", \").concat(memory)}),/*#__PURE__*/_jsx(\"b\",{className:\"cart-item__price\"}),count>1?/*#__PURE__*/_jsxs(\"b\",{className:\"cart-item__price\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"cart-item__price-count\",children:[fullPrice-discountAmount,\" x \",count,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"cart-item__total\",children:[(fullPrice-discountAmount)*count,\" \\u0440\\u0443\\u0431.\"]})]}):/*#__PURE__*/_jsxs(\"b\",{className:\"cart-item__price\",children:[fullPrice-discountAmount,\" \\u0440\\u0443\\u0431.\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-item__delete-btn\",onClick:function onClick(){return removeFromCart(item);},children:/*#__PURE__*/_jsx(CloseBtn,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item__counter\",children:/*#__PURE__*/_jsx(Counter,{item:item})})]});};export default CartItem;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Cart/CartItem/CartItem.tsx"],"names":["CartState","CloseBtn","Counter","CartItem","item","cartItems","priceSum","title","categoryType","memory","features","images","priceInfo","fullPrice","discountAmount","count","removeFromCart","setCartItems","filter","i","id","setPriceSum","snippetImage"],"mappings":"oLACA,MAAOA,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,iBAAP,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAmC,IAAhCC,CAAAA,IAAgC,MAAhCA,IAAgC,CAEhD,GAAQC,CAAAA,SAAR,CAAgCL,SAAhC,CAAQK,SAAR,CAAmBC,QAAnB,CAAgCN,SAAhC,CAAmBM,QAAnB,CACA,GAAQC,CAAAA,KAAR,CAA+GH,IAA/G,CAAQG,KAAR,CAAeC,YAAf,CAA+GJ,IAA/G,CAAeI,YAAf,CAAyCC,MAAzC,CAA+GL,IAA/G,CAA6BM,QAA7B,CAAyCD,MAAzC,CAAmDE,MAAnD,CAA+GP,IAA/G,CAAmDO,MAAnD,iBAA+GP,IAA/G,CAA2DQ,SAA3D,CAAwEC,SAAxE,iBAAwEA,SAAxE,CAAmFC,cAAnF,iBAAmFA,cAAnF,CAAqGC,KAArG,CAA+GX,IAA/G,CAAqGW,KAArG,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACZ,IAAD,CAAqB,CACxC,qBAA4DA,IAA5D,CAAQQ,SAAR,CAAqBC,SAArB,kBAAqBA,SAArB,CAAgCC,cAAhC,kBAAgCA,cAAhC,CAAkDC,KAAlD,CAA4DX,IAA5D,CAAkDW,KAAlD,CACAf,SAAS,CAACiB,YAAV,oBACOZ,SAAS,CAACa,MAAV,CAAiB,SAACC,CAAD,CAAO,CACvB,MAAOA,CAAAA,CAAC,CAACC,EAAF,GAAShB,IAAI,CAACgB,EAArB,CACH,CAFE,CADP,GAMApB,SAAS,CAACqB,WAAV,CAAsBf,QAAQ,CAAG,CAACO,SAAS,CAAGC,cAAb,EAA+BC,KAAhE,EACH,CATD,CAWA,mBACI,aAAK,SAAS,CAAC,WAAf,wBAII,YAAK,SAAS,CAAC,gBAAf,CAAgC,GAAG,CAAEJ,MAAM,CAACW,YAA5C,CAA0D,GAAG,CAAC,KAA9D,EAJJ,cAMI,aAAK,SAAS,CAAC,sBAAf,wBACI,WAAI,SAAS,CAAC,kBAAd,oBACQd,YADR,aACwBD,KADxB,cACkCE,MADlC,GADJ,cAII,UAAG,SAAS,CAAC,kBAAb,EAJJ,CAQKM,KAAK,CAAG,CAAR,cACG,WAAG,SAAS,CAAC,kBAAb,wBACI,cAAM,SAAS,CAAC,wBAAhB,WAA2CF,SAAS,CAAGC,cAAvD,OAA2EC,KAA3E,OADJ,cAEI,cAAM,SAAS,CAAC,kBAAhB,WAAoC,CAACF,SAAS,CAAGC,cAAb,EAA+BC,KAAnE,0BAFJ,GADH,cAOG,WAAG,SAAS,CAAC,kBAAb,WAEMF,SAAS,CAAGC,cAFlB,0BAfR,GANJ,cA6BI,eAAQ,SAAS,CAAC,uBAAlB,CACI,OAAO,CAAE,yBAAME,CAAAA,cAAc,CAACZ,IAAD,CAApB,EADb,uBAGI,KAAC,QAAD,IAHJ,EA7BJ,cAkCI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,OAAD,EAAS,IAAI,CAAEA,IAAf,EADJ,EAlCJ,GADJ,CAwCH,CAxDD,CA0DA,cAAeD,CAAAA,QAAf","sourcesContent":["import { IItemData } from '../../../interfaces/IItemData'\r\nimport CartState from '../../../store/CartState';\r\nimport CloseBtn from '../../svg/CloseBtn';\r\nimport Counter from '../Counter/Counter';\r\nimport './CartItem.scss'\r\n\r\nconst CartItem = ({ item }: { item: IItemData }) => {\r\n\r\n    const { cartItems, priceSum } = CartState;\r\n    const { title, categoryType, features: { memory }, images, priceInfo: { fullPrice, discountAmount }, count } = item;\r\n\r\n    const removeFromCart = (item: IItemData) => {\r\n        const { priceInfo: { fullPrice, discountAmount }, count } = item\r\n        CartState.setCartItems([\r\n            ...cartItems.filter((i) => {\r\n                return i.id !== item.id;\r\n            }),\r\n        ]);\r\n\r\n        CartState.setPriceSum(priceSum - (fullPrice - discountAmount) * count)\r\n    };\r\n\r\n    return (\r\n        <div className=\"cart-item\">\r\n\r\n\r\n\r\n            <img className=\"cart-item__img\" src={images.snippetImage} alt=\"img\" />\r\n\r\n            <div className=\"cart-item__text-wrap\">\r\n                <h3 className=\"cart-item__title\">\r\n                    {`${categoryType} ${title}, ${memory}`}\r\n                </h3>\r\n                <b className=\"cart-item__price\">\r\n                    {/* {fullPrice - discountAmount} руб. */}\r\n                    {/* {(fullPrice - discountAmount)} руб. */}\r\n                </b>\r\n                {count > 1 ? (\r\n                    <b className=\"cart-item__price\">\r\n                        <span className=\"cart-item__price-count\">{(fullPrice - discountAmount)} x {count} </span>\r\n                        <span className=\"cart-item__total\">{(fullPrice - discountAmount) * count} руб.</span>\r\n\r\n                    </b>\r\n                ) :\r\n                    <b className=\"cart-item__price\">\r\n                        {/* {fullPrice - discountAmount} руб. */}\r\n                        {(fullPrice - discountAmount)} руб.\r\n                    </b>\r\n                }\r\n            </div>\r\n\r\n\r\n            <button className=\"cart-item__delete-btn\"\r\n                onClick={() => removeFromCart(item)}\r\n            >\r\n                <CloseBtn />\r\n            </button>\r\n            <div className=\"cart-item__counter\">\r\n                <Counter item={item} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItem"]},"metadata":{},"sourceType":"module"}