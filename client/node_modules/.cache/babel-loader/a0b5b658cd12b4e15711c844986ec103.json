{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pavel/Desktop/js/device-market-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import CartState from'../../../store/CartState';import'./Counter.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Counter=function Counter(_ref){var item=_ref.item;var cartItems=CartState.cartItems,priceSum=CartState.priceSum;var incItem=function incItem(item){cartItems.forEach(function(i){var _i$priceInfo=i.priceInfo,fullPrice=_i$priceInfo.fullPrice,discountAmount=_i$priceInfo.discountAmount,count=i.count;if(i.id===item.id){i.count++;CartState.setPriceSum(priceSum+(fullPrice-discountAmount));}});};var decItem=function decItem(item){cartItems.forEach(function(i){var _i$priceInfo2=i.priceInfo,fullPrice=_i$priceInfo2.fullPrice,discountAmount=_i$priceInfo2.discountAmount,count=i.count;if(i.id===item.id){i.count--;CartState.setPriceSum(priceSum-(fullPrice-discountAmount));}if(i.count===0){CartState.setCartItems(_toConsumableArray(cartItems.filter(function(cartItem){return cartItem.id!==item.id;})));}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"counter__btn counter__btn--dec\",onClick:function onClick(){return decItem(item);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"counter__num\",children:item.count}),/*#__PURE__*/_jsx(\"button\",{className:\"counter__btn counter__btn--inc\",onClick:function onClick(){return incItem(item);},children:\"+\"})]});};export default Counter;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Cart/Counter/Counter.tsx"],"names":["CartState","Counter","item","cartItems","priceSum","incItem","forEach","i","priceInfo","fullPrice","discountAmount","count","id","setPriceSum","decItem","setCartItems","filter","cartItem"],"mappings":"oLACA,MAAOA,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAmC,IAAhCC,CAAAA,IAAgC,MAAhCA,IAAgC,CAE/C,GAAQC,CAAAA,SAAR,CAAgCH,SAAhC,CAAQG,SAAR,CAAmBC,QAAnB,CAAgCJ,SAAhC,CAAmBI,QAAnB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACH,IAAD,CAAqB,CAEjCC,SAAS,CAACG,OAAV,CAAkB,SAAAC,CAAC,CAAI,CAEnB,iBAA4DA,CAA5D,CAAQC,SAAR,CAAqBC,SAArB,cAAqBA,SAArB,CAAgCC,cAAhC,cAAgCA,cAAhC,CAAkDC,KAAlD,CAA4DJ,CAA5D,CAAkDI,KAAlD,CAEA,GAAIJ,CAAC,CAACK,EAAF,GAASV,IAAI,CAACU,EAAlB,CAAsB,CAClBL,CAAC,CAACI,KAAF,GACAX,SAAS,CAACa,WAAV,CAAsBT,QAAQ,EAAIK,SAAS,CAAGC,cAAhB,CAA9B,EACH,CACJ,CARD,EASH,CAXD,CAcA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACZ,IAAD,CAAqB,CACjCC,SAAS,CAACG,OAAV,CAAkB,SAAAC,CAAC,CAAI,CACnB,kBAA4DA,CAA5D,CAAQC,SAAR,CAAqBC,SAArB,eAAqBA,SAArB,CAAgCC,cAAhC,eAAgCA,cAAhC,CAAkDC,KAAlD,CAA4DJ,CAA5D,CAAkDI,KAAlD,CACA,GAAIJ,CAAC,CAACK,EAAF,GAASV,IAAI,CAACU,EAAlB,CAAsB,CAClBL,CAAC,CAACI,KAAF,GACAX,SAAS,CAACa,WAAV,CAAsBT,QAAQ,EAAIK,SAAS,CAAGC,cAAhB,CAA9B,EACH,CACD,GAAIH,CAAC,CAACI,KAAF,GAAY,CAAhB,CAAmB,CACfX,SAAS,CAACe,YAAV,oBAA2BZ,SAAS,CAACa,MAAV,CAAiB,SAAAC,QAAQ,CAAI,CACpD,MAAOA,CAAAA,QAAQ,CAACL,EAAT,GAAgBV,IAAI,CAACU,EAA5B,CACH,CAF0B,CAA3B,GAGH,CACJ,CAXD,EAaH,CAdD,CAgBA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,eAAQ,SAAS,CAAC,gCAAlB,CACI,OAAO,CAAE,yBAAME,CAAAA,OAAO,CAACZ,IAAD,CAAb,EADb,eADJ,cAII,YAAK,SAAS,CAAC,cAAf,UAA+BA,IAAI,CAACS,KAApC,EAJJ,cAKI,eAAQ,SAAS,CAAC,gCAAlB,CACI,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACH,IAAD,CAAb,EADb,eALJ,GADJ,CAWH,CA7CD,CA+CA,cAAeD,CAAAA,OAAf","sourcesContent":["import { IItemData } from '../../../interfaces/IItemData';\r\nimport CartState from '../../../store/CartState'\r\nimport './Counter.scss'\r\n\r\nconst Counter = ({ item }: { item: IItemData }) => {\r\n\r\n    const { cartItems, priceSum } = CartState;\r\n\r\n    const incItem = (item: IItemData) => {\r\n\r\n        cartItems.forEach(i => {\r\n\r\n            const { priceInfo: { fullPrice, discountAmount }, count } = i\r\n\r\n            if (i.id === item.id) {\r\n                i.count++\r\n                CartState.setPriceSum(priceSum + (fullPrice - discountAmount))\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    const decItem = (item: IItemData) => {\r\n        cartItems.forEach(i => {\r\n            const { priceInfo: { fullPrice, discountAmount }, count } = i\r\n            if (i.id === item.id) {\r\n                i.count--\r\n                CartState.setPriceSum(priceSum - (fullPrice - discountAmount))\r\n            }\r\n            if (i.count === 0) {\r\n                CartState.setCartItems([...cartItems.filter(cartItem => {\r\n                    return cartItem.id !== item.id\r\n                })])\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"counter\">\r\n            <button className=\"counter__btn counter__btn--dec\"\r\n                onClick={() => decItem(item)}\r\n            >-</button>\r\n            <div className=\"counter__num\">{item.count}</div>\r\n            <button className=\"counter__btn counter__btn--inc\"\r\n                onClick={() => incItem(item)}\r\n            >+</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Counter"]},"metadata":{},"sourceType":"module"}