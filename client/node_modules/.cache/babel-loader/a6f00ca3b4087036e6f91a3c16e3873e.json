{"ast":null,"code":"import{observer}from\"mobx-react-lite\";import React,{useRef}from\"react\";import{Link}from\"react-router-dom\";import ItemDataState from\"../../store/ItemDataState\";import ProductPrice from\"../ProductPrice/ProductPrice\";import ProductRating from\"../ProductRating/ProductRating\";import ToCartBtn from\"../buttons/ToCartBtn/ToCartBtn\";import CartState from\"../../store/CartState\";import ResponseDataState from\"../../store/ResponseDataState\";import ToItemLink from\"../buttons/ToItemLink/ToItemLink\";import\"./ItemCard.scss\";import PageWidthState from\"../../store/PageWidthState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemCard=observer(function(_ref){var inPageView=_ref.inPageView,inSliderView=_ref.inSliderView,item=_ref.item,isBtnLite=_ref.isBtnLite;var cartItems=CartState.cartItems;var responseData=ResponseDataState.responseData;var itemCardWidth=PageWidthState.itemCardWidth;var itemCardRef=useRef(null);var snippetImage=item.images.snippetImage,title=item.title,priceInfo=item.priceInfo,_item$priceInfo=item.priceInfo,discount=_item$priceInfo.discount,discountAmount=_item$priceInfo.discountAmount,fullPrice=_item$priceInfo.fullPrice,isAvailable=item.isAvailable,reviews=item.reviewsInfo.reviews,color=item.color,rating=item.rating,categoryType=item.categoryType,memory=item.features.memory;return/*#__PURE__*/_jsxs(\"div\",{className:isAvailable?\"item-card\":\"item-card item-card--not-available\",ref:itemCardRef,children:[/*#__PURE__*/_jsx(Link,{className:\"item-card__img-link\",to:\"/item\",onClick:function onClick(){return ItemDataState.setItemData(item);},children:/*#__PURE__*/_jsx(\"img\",{className:\"item-card__img\",src:snippetImage,alt:\"img\",height:\"100\"})}),/*#__PURE__*/_jsx(Link,{className:\"item-card__title-link\",to:\"/item\",onClick:function onClick(){return ItemDataState.setItemData(item);},children:/*#__PURE__*/_jsx(\"h3\",{className:\"item-card__title\",children:\"\".concat(categoryType,\" \").concat(title,\" \").concat(color?color:\"\",\", \").concat(memory)})}),/*#__PURE__*/_jsx(Link,{className:\"item-card__rating-link\",to:\"/item\",onClick:function onClick(){return ItemDataState.setItemData(item);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-card__rating-wrap\",children:[/*#__PURE__*/_jsx(ProductRating,{rating:rating}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-card__reviews\",children:[\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B (\",reviews.length,\")\"]})]})}),/*#__PURE__*/_jsx(ProductPrice,{priceInfo:priceInfo,isAvailable:isAvailable}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-card__buttons\",children:[isAvailable&&/*#__PURE__*/_jsx(ToCartBtn,{item:item,isBtnLite:isBtnLite}),isBtnLite&&/*#__PURE__*/_jsx(Link,{to:\"/item\",onClick:function onClick(){return ItemDataState.setItemData(item);},children:/*#__PURE__*/_jsx(ToItemLink,{})})]})]});});export default ItemCard;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/ItemCard/ItemCard.tsx"],"names":["observer","React","useRef","Link","ItemDataState","ProductPrice","ProductRating","ToCartBtn","CartState","ResponseDataState","ToItemLink","PageWidthState","ItemCard","inPageView","inSliderView","item","isBtnLite","cartItems","responseData","itemCardWidth","itemCardRef","snippetImage","images","title","priceInfo","discount","discountAmount","fullPrice","isAvailable","reviews","reviewsInfo","color","rating","categoryType","memory","features","setItemData","length"],"mappings":"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","sourcesContent":["import { spawn } from \"child_process\";\r\nimport { toJS } from \"mobx\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IItemData } from \"../../interfaces/IItemData\";\r\nimport ItemDataState from \"../../store/ItemDataState\";\r\nimport ProductPrice from \"../ProductPrice/ProductPrice\";\r\nimport ProductRating from \"../ProductRating/ProductRating\";\r\nimport ToCartBtn from \"../buttons/ToCartBtn/ToCartBtn\";\r\nimport CartState from \"../../store/CartState\";\r\nimport ResponseDataState from \"../../store/ResponseDataState\";\r\nimport ToItemLink from \"../buttons/ToItemLink/ToItemLink\";\r\nimport \"./ItemCard.scss\";\r\nimport PageWidthState from \"../../store/PageWidthState\";\r\n\r\ninterface ICardTypeOfView {\r\n    inPageView?: string;\r\n    inSliderView?: string;\r\n    item: IItemData;\r\n    isBtnLite?: boolean\r\n}\r\n\r\nconst ItemCard: React.FC<ICardTypeOfView> = observer(({ inPageView, inSliderView, item, isBtnLite }) => {\r\n    const { cartItems } = CartState;\r\n    const { responseData } = ResponseDataState;\r\n    const { itemCardWidth } = PageWidthState;\r\n\r\n    const itemCardRef = useRef<HTMLDivElement>(null)\r\n\r\n    const {\r\n        images: { snippetImage },\r\n        title,\r\n        priceInfo,\r\n        priceInfo: { discount, discountAmount, fullPrice },\r\n        isAvailable,\r\n        reviewsInfo: { reviews },\r\n        color,\r\n        rating,\r\n        categoryType,\r\n        features: { memory },\r\n    } = item;\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className={isAvailable ? \"item-card\" : \"item-card item-card--not-available\"} ref={itemCardRef}>\r\n            <Link className=\"item-card__img-link\" to=\"/item\" onClick={() => ItemDataState.setItemData(item)}>\r\n                <img className=\"item-card__img\" src={snippetImage} alt=\"img\" height=\"100\" />\r\n            </Link>\r\n            <Link className=\"item-card__title-link\" to=\"/item\" onClick={() => ItemDataState.setItemData(item)}>\r\n                <h3 className=\"item-card__title\">{`${categoryType} ${title} ${color ? color : \"\"}, ${memory}`}</h3>\r\n            </Link>\r\n\r\n\r\n\r\n            <Link className=\"item-card__rating-link\" to=\"/item\" onClick={() => ItemDataState.setItemData(item)}>\r\n                <div className=\"item-card__rating-wrap\">\r\n                    <ProductRating rating={rating} />\r\n                    <p className=\"item-card__reviews\">Отзывы ({reviews.length})</p>\r\n                </div>\r\n            </Link>\r\n            <ProductPrice priceInfo={priceInfo} isAvailable={isAvailable} />\r\n            <div className=\"item-card__buttons\">\r\n                {/* {isAvailable && <ToCartBtn item={item} isBtnLite={isBtnLite} />} */}\r\n                {isAvailable && <ToCartBtn item={item} isBtnLite={isBtnLite} />}\r\n                {isBtnLite && <Link to=\"/item\" onClick={() => ItemDataState.setItemData(item)}><ToItemLink /></Link>}\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ItemCard;\r\n"]},"metadata":{},"sourceType":"module"}