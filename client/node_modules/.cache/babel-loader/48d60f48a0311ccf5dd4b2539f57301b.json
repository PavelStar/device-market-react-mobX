{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{observer}from\"mobx-react-lite\";import CheckboxCategory from\"./CheckboxCategory/CheckboxCategory\";import CheckboxBrand from\"./CheckboxBrand/CheckboxBrand\";import FiltersSettingsState from\"../../store/FiltersSettingsState\";import ResponseDataState from\"../../store/ResponseDataState\";import PriceRange from\"../PriceRange/PriceRange\";import Switcher from\"../Switcher/Switcher\";import ClearFiltersBtn from\"../buttons/ResetFiltersBtn/ResetFiltersBtn\";import PageWidthState from\"../../store/PageWidthState\";import{ScrollLockOnFixed}from\"../../Utils/ScrollLockOnFixed\";import CloseBtn from\"../svg/CloseBtn\";import'./FiltersPanel.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FiltersPanel=observer(function(_ref){var itemsToShowCount=_ref.itemsToShowCount,showFilters=_ref.showFilters;var isMobile=PageWidthState.isMobile;var filtersRef=useRef(null);var showBtnRef=useRef(null);useEffect(function(){if(filtersRef.current&&isMobile){ScrollLockOnFixed(\"disabled\",filtersRef);}return function(){if(filtersRef.current&&isMobile){ScrollLockOnFixed(\"enabled\",filtersRef);}};},[]);var isAvailable=FiltersSettingsState.isAvailable,isDiscount=FiltersSettingsState.isDiscount;var responseData=ResponseDataState.responseData;return/*#__PURE__*/_jsx(\"div\",{className:\"filters-panel\",ref:filtersRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"filters-panel__filter-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"filters-panel__title\",children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-panel__reset-wrap\",children:[/*#__PURE__*/_jsx(ClearFiltersBtn,{}),/*#__PURE__*/_jsx(\"button\",{onClick:showFilters,className:\"filters-panel__close-btn\",children:/*#__PURE__*/_jsx(CloseBtn,{})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"filters-panel__category-sorting-list\",children:responseData===null||responseData===void 0?void 0:responseData.categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{className:\"filters-panel__category-sorting-item\",children:/*#__PURE__*/_jsx(CheckboxCategory,{category:category})});})}),/*#__PURE__*/_jsx(\"ul\",{className:\"filters-panel__brand-sorting-list\",children:responseData===null||responseData===void 0?void 0:responseData.brands.map(function(brand){return/*#__PURE__*/_jsx(\"li\",{className:\"filters-panel__brand-sorting-item\",children:/*#__PURE__*/_jsx(CheckboxBrand,{brand:brand})});})}),/*#__PURE__*/_jsx(PriceRange,{}),/*#__PURE__*/_jsxs(\"ul\",{className:\"filters-panel__switch-list\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"filters-panel__switch-item\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"filters-panel__switch-text\",children:\"\\u0412 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438\"}),/*#__PURE__*/_jsx(Switcher,{name:\"isAvailableSwitch\",state:isAvailable})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"filters-panel__switch-item\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"filters-panel__switch-text\",children:\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430\"}),/*#__PURE__*/_jsx(Switcher,{name:\"isDiscountSwitch\",state:isDiscount})]})]}),isMobile&&/*#__PURE__*/_jsx(\"div\",{className:\"filters-panel__results-btn-wrap\",ref:showBtnRef,children:/*#__PURE__*/_jsxs(\"button\",{className:\"filters-panel__results-btn\",onClick:showFilters,children:[\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C (\",itemsToShowCount,\") \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"]})})]})});});export default FiltersPanel;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/FiltersPanel/FiltersPanel.tsx"],"names":["React","useEffect","useRef","observer","CheckboxCategory","CheckboxBrand","FiltersSettingsState","ResponseDataState","PriceRange","Switcher","ClearFiltersBtn","PageWidthState","ScrollLockOnFixed","CloseBtn","FiltersPanel","itemsToShowCount","showFilters","isMobile","filtersRef","showBtnRef","current","isAvailable","isDiscount","responseData","categories","map","category","brands","brand"],"mappings":"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","sourcesContent":["import React, { ReactFragment, useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { ICategory } from \"../../interfaces/ICategory\";\nimport CheckboxCategory from \"./CheckboxCategory/CheckboxCategory\";\nimport CheckboxBrand from \"./CheckboxBrand/CheckboxBrand\";\nimport FiltersSettingsState from \"../../store/FiltersSettingsState\";\nimport ResponseDataState from \"../../store/ResponseDataState\";\nimport PriceRange from \"../PriceRange/PriceRange\";\nimport Switcher from \"../Switcher/Switcher\";\nimport ClearFiltersBtn from \"../buttons/ResetFiltersBtn/ResetFiltersBtn\";\nimport PageWidthState from \"../../store/PageWidthState\";\nimport { ScrollLockOnFixed } from \"../../Utils/ScrollLockOnFixed\";\nimport CloseBtn from \"../svg/CloseBtn\";\nimport './FiltersPanel.scss'\n\n\ninterface IFiltersPanel {\n\titemsToShowCount?: number;\n\tshowFilters: any\n}\n\n\nconst FiltersPanel: React.FC<IFiltersPanel> = observer(({ itemsToShowCount, showFilters }) => {\n\n\tconst { isMobile } = PageWidthState;\n\n\tconst filtersRef = useRef(null)\n\tconst showBtnRef = useRef(null)\n\n\n\n\tuseEffect(() => {\n\t\tif (filtersRef.current && isMobile) {\n\t\t\tScrollLockOnFixed(\"disabled\", filtersRef)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (filtersRef.current && isMobile) {\n\t\t\t\tScrollLockOnFixed(\"enabled\", filtersRef)\n\t\t\t}\n\t\t}\n\t}, [])\n\n\n\n\n\tconst { isAvailable, isDiscount } = FiltersSettingsState\n\tconst { responseData } = ResponseDataState\n\n\n\n\n\treturn (\n\t\t<div className=\"filters-panel\" ref={filtersRef}>\n\t\t\t<div className=\"filters-panel__filter-wrap\" >\n\t\t\t\t<h2 className=\"filters-panel__title\">Фильтры</h2>\n\t\t\t\t<div className=\"filters-panel__reset-wrap\">\n\n\t\t\t\t\t<ClearFiltersBtn />\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={showFilters}\n\t\t\t\t\t\tclassName=\"filters-panel__close-btn\">\n\t\t\t\t\t\t<CloseBtn />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<ul className=\"filters-panel__category-sorting-list\">\n\t\t\t\t\t{responseData?.categories.map((category: ICategory) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"filters-panel__category-sorting-item\">\n\t\t\t\t\t\t\t\t<CheckboxCategory category={category} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<ul className=\"filters-panel__brand-sorting-list\">\n\t\t\t\t\t{responseData?.brands.map((brand: string) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"filters-panel__brand-sorting-item\">\n\t\t\t\t\t\t\t\t<CheckboxBrand brand={brand} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<PriceRange />\n\t\t\t\t<ul className=\"filters-panel__switch-list\">\n\t\t\t\t\t<li className=\"filters-panel__switch-item\">\n\t\t\t\t\t\t<p className=\"filters-panel__switch-text\">В наличии</p>\n\t\t\t\t\t\t<Switcher name=\"isAvailableSwitch\" state={isAvailable} />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"filters-panel__switch-item\">\n\t\t\t\t\t\t<p className=\"filters-panel__switch-text\">Скидка</p>\n\t\t\t\t\t\t<Switcher name=\"isDiscountSwitch\" state={isDiscount} />\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t{isMobile &&\n\t\t\t\t\t<div className=\"filters-panel__results-btn-wrap\" ref={showBtnRef}>\n\t\t\t\t\t\t<button className=\"filters-panel__results-btn\"\n\t\t\t\t\t\t\tonClick={showFilters}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПоказать ({itemsToShowCount}) товаров\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default FiltersPanel;\n"]},"metadata":{},"sourceType":"module"}