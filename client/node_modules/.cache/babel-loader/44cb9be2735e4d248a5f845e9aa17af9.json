{"ast":null,"code":"import ResponseDataState from \"../store/ResponseDataState\";\nimport FiltersSettingsState from \"../store/FiltersSettingsState\";\nimport { setSortByItems } from \"./setSortByItems\";\nexport const SetFilterSettings = () => {\n  const {\n    responseData\n  } = ResponseDataState;\n  const {\n    selectedCategories,\n    selectedBrands,\n    priceRange,\n    isAvailable,\n    isDiscount\n  } = FiltersSettingsState;\n  return setSortByItems(responseData === null || responseData === void 0 ? void 0 : responseData.items.filter(item => {\n    if (selectedCategories.length) {\n      return selectedCategories.includes(item.category);\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    if (selectedBrands.length) {\n      return selectedBrands.includes(item.brand);\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    let price = item.priceInfo.fullPrice - item.priceInfo.discountAmount;\n    return price >= priceRange[0] && price <= priceRange[1];\n  }).filter(item => {\n    if (isAvailable) {\n      return item.isAvailable;\n    } else {\n      return item;\n    }\n  }).filter(item => {\n    if (isDiscount) {\n      return item.priceInfo.discount;\n    } else {\n      return item;\n    }\n  }));\n};\n_c = SetFilterSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"SetFilterSettings\");","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/Utils/SetFilterSettings.ts"],"names":["ResponseDataState","FiltersSettingsState","setSortByItems","SetFilterSettings","responseData","selectedCategories","selectedBrands","priceRange","isAvailable","isDiscount","items","filter","item","length","includes","category","brand","price","priceInfo","fullPrice","discountAmount","discount"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,oBAAP,MAAiC,+BAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACtC,QAAM;AAAEC,IAAAA;AAAF,MAAmBJ,iBAAzB;AACA,QAAM;AAAEK,IAAAA,kBAAF;AAAsBC,IAAAA,cAAtB;AAAsCC,IAAAA,UAAtC;AAAkDC,IAAAA,WAAlD;AAA+DC,IAAAA;AAA/D,MAA8ER,oBAApF;AAEA,SAAOC,cAAc,CACpBE,YADoB,aACpBA,YADoB,uBACpBA,YAAY,CAAEM,KAAd,CACEC,MADF,CACUC,IAAD,IAAU;AACjB,QAAIP,kBAAkB,CAACQ,MAAvB,EAA+B;AAC9B,aAAOR,kBAAkB,CAACS,QAAnB,CAA4BF,IAAI,CAACG,QAAjC,CAAP;AACA,KAFD,MAEO;AACN,aAAOH,IAAP;AACA;AACD,GAPF,EAQED,MARF,CAQUC,IAAD,IAAU;AACjB,QAAIN,cAAc,CAACO,MAAnB,EAA2B;AAC1B,aAAOP,cAAc,CAACQ,QAAf,CAAwBF,IAAI,CAACI,KAA7B,CAAP;AACA,KAFD,MAEO;AACN,aAAOJ,IAAP;AACA;AACD,GAdF,EAeED,MAfF,CAeUC,IAAD,IAAU;AACjB,QAAIK,KAAK,GAAGL,IAAI,CAACM,SAAL,CAAeC,SAAf,GAA2BP,IAAI,CAACM,SAAL,CAAeE,cAAtD;AACA,WAAOH,KAAK,IAAIV,UAAU,CAAC,CAAD,CAAnB,IAA0BU,KAAK,IAAIV,UAAU,CAAC,CAAD,CAApD;AACA,GAlBF,EAmBEI,MAnBF,CAmBUC,IAAD,IAAU;AACjB,QAAIJ,WAAJ,EAAiB;AAChB,aAAOI,IAAI,CAACJ,WAAZ;AACA,KAFD,MAEO;AACN,aAAOI,IAAP;AACA;AACD,GAzBF,EA0BED,MA1BF,CA0BUC,IAAD,IAAU;AACjB,QAAIH,UAAJ,EAAgB;AACf,aAAOG,IAAI,CAACM,SAAL,CAAeG,QAAtB;AACA,KAFD,MAEO;AACN,aAAOT,IAAP;AACA;AACD,GAhCF,CADoB,CAArB;AAmCA,CAvCM;KAAMT,iB","sourcesContent":["import ResponseDataState from \"../store/ResponseDataState\";\r\nimport FiltersSettingsState from \"../store/FiltersSettingsState\";\r\nimport { setSortByItems } from \"./setSortByItems\";\r\n\r\nexport const SetFilterSettings = () => {\r\n\tconst { responseData } = ResponseDataState;\r\n\tconst { selectedCategories, selectedBrands, priceRange, isAvailable, isDiscount } = FiltersSettingsState;\r\n\r\n\treturn setSortByItems(\r\n\t\tresponseData?.items\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (selectedCategories.length) {\r\n\t\t\t\t\treturn selectedCategories.includes(item.category);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (selectedBrands.length) {\r\n\t\t\t\t\treturn selectedBrands.includes(item.brand);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tlet price = item.priceInfo.fullPrice - item.priceInfo.discountAmount;\r\n\t\t\t\treturn price >= priceRange[0] && price <= priceRange[1];\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (isAvailable) {\r\n\t\t\t\t\treturn item.isAvailable;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (isDiscount) {\r\n\t\t\t\t\treturn item.priceInfo.discount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}