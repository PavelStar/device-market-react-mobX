{"ast":null,"code":"import{observer}from\"mobx-react-lite\";import React,{useRef}from\"react\";import{Link}from\"react-router-dom\";import ProductPrice from\"../ProductPrice/ProductPrice\";import ProductRating from\"../ProductRating/ProductRating\";import ToCartBtn from\"../buttons/ToCartBtn/ToCartBtn\";import CartState from\"../../store/CartState\";import ResponseDataState from\"../../store/ResponseDataState\";import ToItemLink from\"../buttons/ToItemLink/ToItemLink\";import\"./ItemCard.scss\";import PageWidthState from\"../../store/PageWidthState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemCard=observer(function(_ref){var inPageView=_ref.inPageView,inSliderView=_ref.inSliderView,item=_ref.item,isBtnLite=_ref.isBtnLite;var cartItems=CartState.cartItems;var responseData=ResponseDataState.responseData;var itemCardWidth=PageWidthState.itemCardWidth;var itemCardRef=useRef(null);var snippetImage=item.images.snippetImage,title=item.title,id=item.id,priceInfo=item.priceInfo,_item$priceInfo=item.priceInfo,discount=_item$priceInfo.discount,discountAmount=_item$priceInfo.discountAmount,fullPrice=_item$priceInfo.fullPrice,isAvailable=item.isAvailable,reviews=item.reviewsInfo.reviews,color=item.color,rating=item.rating,categoryType=item.categoryType,memory=item.features.memory;return/*#__PURE__*/_jsxs(\"div\",{className:isAvailable?\"item-card\":\"item-card item-card--not-available\",ref:itemCardRef,children:[/*#__PURE__*/_jsx(Link,{className:\"item-card__img-link\",to:\"/item/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"item-card__img\",src:snippetImage,alt:\"img\",height:\"100\"})}),/*#__PURE__*/_jsx(Link,{className:\"item-card__title-link\",to:\"/item/\".concat(id),children:/*#__PURE__*/_jsx(\"h3\",{className:\"item-card__title\",children:\"\".concat(categoryType,\" \").concat(title,\" \").concat(color?color:\"\",\", \").concat(memory)})}),/*#__PURE__*/_jsx(Link,{className:\"item-card__rating-link\",to:\"/item/\".concat(id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-card__rating-wrap\",children:[/*#__PURE__*/_jsx(ProductRating,{rating:rating}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-card__reviews\",children:[\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B (\",reviews.length,\")\"]})]})}),/*#__PURE__*/_jsx(ProductPrice,{priceInfo:priceInfo,isAvailable:isAvailable}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-card__buttons\",children:[isAvailable&&/*#__PURE__*/_jsx(ToCartBtn,{toCartItem:item,isBtnLite:isBtnLite}),isBtnLite&&/*#__PURE__*/ // <Link to={`/item/${id}`}>\n// </Link>\n_jsx(ToItemLink,{id:id})]})]});});export default ItemCard;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/ItemCard/ItemCard.tsx"],"names":["observer","React","useRef","Link","ProductPrice","ProductRating","ToCartBtn","CartState","ResponseDataState","ToItemLink","PageWidthState","ItemCard","inPageView","inSliderView","item","isBtnLite","cartItems","responseData","itemCardWidth","itemCardRef","snippetImage","images","title","id","priceInfo","discount","discountAmount","fullPrice","isAvailable","reviews","reviewsInfo","color","rating","categoryType","memory","features","length"],"mappings":"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","sourcesContent":["import { spawn } from \"child_process\";\r\nimport { toJS } from \"mobx\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IItemData } from \"../../interfaces/IItemData\";\r\nimport ItemDataState from \"../../store/ItemDataState\";\r\nimport ProductPrice from \"../ProductPrice/ProductPrice\";\r\nimport ProductRating from \"../ProductRating/ProductRating\";\r\nimport ToCartBtn from \"../buttons/ToCartBtn/ToCartBtn\";\r\nimport CartState from \"../../store/CartState\";\r\nimport ResponseDataState from \"../../store/ResponseDataState\";\r\nimport ToItemLink from \"../buttons/ToItemLink/ToItemLink\";\r\nimport \"./ItemCard.scss\";\r\nimport PageWidthState from \"../../store/PageWidthState\";\r\n\r\ninterface ICardTypeOfView {\r\n    inPageView?: string;\r\n    inSliderView?: string;\r\n    item: IItemData;\r\n    isBtnLite?: boolean;\r\n}\r\n\r\nconst ItemCard: React.FC<ICardTypeOfView> = observer(({ inPageView, inSliderView, item, isBtnLite }) => {\r\n    const { cartItems } = CartState;\r\n    const { responseData } = ResponseDataState;\r\n    const { itemCardWidth } = PageWidthState;\r\n\r\n    const itemCardRef = useRef<HTMLDivElement>(null);\r\n\r\n    const {\r\n        images: { snippetImage },\r\n        title,\r\n        id,\r\n        priceInfo,\r\n        priceInfo: { discount, discountAmount, fullPrice },\r\n        isAvailable,\r\n        reviewsInfo: { reviews },\r\n        color,\r\n        rating,\r\n        categoryType,\r\n        features: { memory },\r\n    } = item;\r\n\r\n    return (\r\n        <div className={isAvailable ? \"item-card\" : \"item-card item-card--not-available\"} ref={itemCardRef}>\r\n            <Link className=\"item-card__img-link\" to={`/item/${id}`} >\r\n                <img className=\"item-card__img\" src={snippetImage} alt=\"img\" height=\"100\" />\r\n            </Link>\r\n            <Link className=\"item-card__title-link\" to={`/item/${id}`} >\r\n                <h3 className=\"item-card__title\">{`${categoryType} ${title} ${color ? color : \"\"}, ${memory}`}</h3>\r\n            </Link>\r\n\r\n            <Link className=\"item-card__rating-link\" to={`/item/${id}`} >\r\n                <div className=\"item-card__rating-wrap\">\r\n                    <ProductRating rating={rating} />\r\n                    <p className=\"item-card__reviews\">Отзывы ({reviews.length})</p>\r\n                </div>\r\n            </Link>\r\n            <ProductPrice priceInfo={priceInfo} isAvailable={isAvailable} />\r\n            <div className=\"item-card__buttons\">\r\n                {isAvailable && <ToCartBtn toCartItem={item} isBtnLite={isBtnLite} />}\r\n                {isBtnLite && (\r\n                    // <Link to={`/item/${id}`}>\r\n                    // </Link>\r\n                    <ToItemLink id={id} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ItemCard;\r\n"]},"metadata":{},"sourceType":"module"}