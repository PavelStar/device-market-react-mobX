{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pavel/Desktop/js/device-market-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import CartState from'../../../store/CartState';import'./Counter.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Counter=function Counter(_ref){var itemPrice=_ref.itemPrice,cartItem=_ref.cartItem;var cartItems=CartState.cartItems,priceSum=CartState.priceSum;var incItem=function incItem(){CartState.setCartItems(_toConsumableArray(cartItems.map(function(item){if(item.itemData.id===(cartItem===null||cartItem===void 0?void 0:cartItem.itemData.id)){++item.count;}return item;})));};var decItem=function decItem(){CartState.setCartItems(_toConsumableArray(cartItems.filter(function(item){if(item.itemData.id===(cartItem===null||cartItem===void 0?void 0:cartItem.itemData.id)){--item.count;}return item.count!==0;})));};return/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"counter__btn counter__btn--dec\",onClick:decItem,children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"counter__num\",children:cartItem===null||cartItem===void 0?void 0:cartItem.count}),/*#__PURE__*/_jsx(\"button\",{className:\"counter__btn counter__btn--inc\",onClick:incItem,disabled:(cartItem===null||cartItem===void 0?void 0:cartItem.count)===(cartItem===null||cartItem===void 0?void 0:cartItem.itemData.amount)?true:false,children:\"+\"})]});};export default Counter;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/Cart/Counter/Counter.tsx"],"names":["React","CartState","Counter","itemPrice","cartItem","cartItems","priceSum","incItem","setCartItems","map","item","itemData","id","count","decItem","filter","amount"],"mappings":"oLAEA,MAAOA,CAAAA,KAAP,KAAgC,OAAhC,CAGA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CAEA,MAAO,gBAAP,C,wFAOA,GAAMC,CAAAA,OAA2B,CAAG,QAA9BA,CAAAA,OAA8B,MAA6B,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,QAAe,MAAfA,QAAe,CAE7D,GAAQC,CAAAA,SAAR,CAAgCJ,SAAhC,CAAQI,SAAR,CAAmBC,QAAnB,CAAgCL,SAAhC,CAAmBK,QAAnB,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAGlBN,SAAS,CAACO,YAAV,oBAA2BH,SAAS,CAACI,GAAV,CAAc,SAACC,IAAD,CAAU,CAC/C,GAAIA,IAAI,CAACC,QAAL,CAAcC,EAAd,IAAqBR,QAArB,SAAqBA,QAArB,iBAAqBA,QAAQ,CAAEO,QAAV,CAAmBC,EAAxC,CAAJ,CAAgD,CAC5C,EAAEF,IAAI,CAACG,KAAP,CACH,CACD,MAAOH,CAAAA,IAAP,CACH,CAL0B,CAA3B,GAMH,CATD,CAYA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAElBb,SAAS,CAACO,YAAV,oBAA2BH,SAAS,CAACU,MAAV,CAAiB,SAACL,IAAD,CAAU,CAElD,GAAIA,IAAI,CAACC,QAAL,CAAcC,EAAd,IAAqBR,QAArB,SAAqBA,QAArB,iBAAqBA,QAAQ,CAAEO,QAAV,CAAmBC,EAAxC,CAAJ,CAAgD,CAC5C,EAAEF,IAAI,CAACG,KAAP,CAEH,CACD,MAAOH,CAAAA,IAAI,CAACG,KAAL,GAAe,CAAtB,CACH,CAP0B,CAA3B,GASH,CAXD,CAeA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,eAAQ,SAAS,CAAC,gCAAlB,CACI,OAAO,CAAEC,OADb,eADJ,cAII,YAAK,SAAS,CAAC,cAAf,UAA+BV,QAA/B,SAA+BA,QAA/B,iBAA+BA,QAAQ,CAAES,KAAzC,EAJJ,cAKI,eAAQ,SAAS,CAAC,gCAAlB,CACI,OAAO,CAAEN,OADb,CAEI,QAAQ,CAAE,CAAAH,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAES,KAAV,KAAoBT,QAApB,SAAoBA,QAApB,iBAAoBA,QAAQ,CAAEO,QAAV,CAAmBK,MAAvC,EAAgD,IAAhD,CAAuD,KAFrE,eALJ,GADJ,CAYH,CA7CD,CA+CA,cAAed,CAAAA,OAAf","sourcesContent":["import { RecordWithTtl } from 'dns';\r\nimport { toJS } from 'mobx';\r\nimport React, { useState } from 'react';\r\nimport { ICartItem } from '../../../interfaces/ICartItem';\r\nimport { IItemData } from '../../../interfaces/IItemData';\r\nimport CartState from '../../../store/CartState'\r\nimport { RemoveFromCart } from '../../../Utils/RemoveFromCart';\r\nimport './Counter.scss'\r\n\r\ninterface ICounter {\r\n    itemPrice?: number;\r\n    cartItem?: ICartItem | undefined;\r\n}\r\n\r\nconst Counter: React.FC<ICounter> = ({ itemPrice, cartItem }) => {\r\n\r\n    const { cartItems, priceSum } = CartState;\r\n\r\n\r\n\r\n    const incItem = () => {\r\n\r\n\r\n        CartState.setCartItems([...cartItems.map((item) => {\r\n            if (item.itemData.id === cartItem?.itemData.id) {\r\n                ++item.count\r\n            }\r\n            return item\r\n        })])\r\n    }\r\n\r\n\r\n    const decItem = () => {\r\n\r\n        CartState.setCartItems([...cartItems.filter((item) => {\r\n\r\n            if (item.itemData.id === cartItem?.itemData.id) {\r\n                --item.count\r\n\r\n            }\r\n            return item.count !== 0\r\n        })])\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"counter\">\r\n            <button className=\"counter__btn counter__btn--dec\"\r\n                onClick={decItem}\r\n            >-</button>\r\n            <div className=\"counter__num\">{cartItem?.count}</div>\r\n            <button className=\"counter__btn counter__btn--inc\"\r\n                onClick={incItem}\r\n                disabled={cartItem?.count === cartItem?.itemData.amount ? true : false}\r\n            >+</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Counter"]},"metadata":{},"sourceType":"module"}