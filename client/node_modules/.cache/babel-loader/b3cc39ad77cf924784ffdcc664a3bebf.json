{"ast":null,"code":"import{observer}from'mobx-react-lite';import{useEffect}from'react';import FiltersSettingsState from'../../store/FiltersSettingsState';import SortingByState from'../../store/SortingByState';import{SetFilterSettings}from'../../Utils/SetFilterSettings';import ClearFiltersBtn from'../buttons/ResetFiltersBtn/ResetFiltersBtn';import Pagination from'../Pagination/Pagination';import SortingSelect from'../SortingSelect/SortingSelect';import CatalogIcon from'../svg/CatalogIcon';import'./ResultsBlock.scss';import ResultsList from'./ResultsList/ResultsList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ResultsBlock=observer(function(_ref){var responseItems=_ref.responseItems;var allFilteredItems=FiltersSettingsState.allFilteredItems,isAvailable=FiltersSettingsState.isAvailable,isDiscount=FiltersSettingsState.isDiscount,priceRange=FiltersSettingsState.priceRange,selectedBrands=FiltersSettingsState.selectedBrands,selectedCategories=FiltersSettingsState.selectedCategories;var sortingByType=SortingByState.sortingByType;useEffect(function(){responseItems&&FiltersSettingsState.setAllFilteredItems(responseItems);},[responseItems]);useEffect(function(){FiltersSettingsState.setAllFilteredItems(SetFilterSettings());},[isAvailable,isDiscount,priceRange,selectedBrands,selectedCategories,sortingByType]);var showFilters=function showFilters(){FiltersSettingsState.setIsFiltersShown(true);console.log('show');};return/*#__PURE__*/_jsx(\"div\",{className:\"results-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page__items-wrap\",children:[allFilteredItems&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Pagination,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page__mobile-settings\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"catalog-page__btn-show-filters\",onClick:showFilters,children:[/*#__PURE__*/_jsx(CatalogIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog-page__sorting-by-wrap\",children:/*#__PURE__*/_jsx(SortingSelect,{})})]}),/*#__PURE__*/_jsx(ResultsList,{})]}),(allFilteredItems===null||allFilteredItems===void 0?void 0:allFilteredItems.length)===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-page__results-not-found\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E \\u0434\\u0430\\u043D\\u043D\\u044B\\u043C \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0430\\u043C \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"}),/*#__PURE__*/_jsx(ClearFiltersBtn,{})]})]})});});export default ResultsBlock;","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/components/ResultsBlock/ResultsBlock.tsx"],"names":["observer","useEffect","FiltersSettingsState","SortingByState","SetFilterSettings","ClearFiltersBtn","Pagination","SortingSelect","CatalogIcon","ResultsList","ResultsBlock","responseItems","allFilteredItems","isAvailable","isDiscount","priceRange","selectedBrands","selectedCategories","sortingByType","setAllFilteredItems","showFilters","setIsFiltersShown","console","log","length"],"mappings":"AAAA,OAASA,QAAT,KAAyB,iBAAzB,CACA,OAASC,SAAT,KAAoC,OAApC,CAEA,MAAOC,CAAAA,oBAAP,KAAiC,kCAAjC,CAEA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,OAASC,iBAAT,KAAkC,+BAAlC,CACA,MAAOC,CAAAA,eAAP,KAA4B,4CAA5B,CAEA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,C,6IAMA,GAAMC,CAAAA,YAAqC,CAAGV,QAAQ,CAAC,cAAuB,IAApBW,CAAAA,aAAoB,MAApBA,aAAoB,CAG1E,GAAQC,CAAAA,gBAAR,CAAuGV,oBAAvG,CAAQU,gBAAR,CAA0BC,WAA1B,CAAuGX,oBAAvG,CAA0BW,WAA1B,CAAuCC,UAAvC,CAAuGZ,oBAAvG,CAAuCY,UAAvC,CAAmDC,UAAnD,CAAuGb,oBAAvG,CAAmDa,UAAnD,CAA+DC,cAA/D,CAAuGd,oBAAvG,CAA+Dc,cAA/D,CAA+EC,kBAA/E,CAAuGf,oBAAvG,CAA+Ee,kBAA/E,CACA,GAAQC,CAAAA,aAAR,CAA0Bf,cAA1B,CAAQe,aAAR,CAGAjB,SAAS,CAAC,UAAM,CACZU,aAAa,EAAIT,oBAAoB,CAACiB,mBAArB,CAAyCR,aAAzC,CAAjB,CACH,CAFQ,CAEN,CAACA,aAAD,CAFM,CAAT,CAIAV,SAAS,CAAC,UAAM,CACZC,oBAAoB,CAACiB,mBAArB,CAAyCf,iBAAiB,EAA1D,EACH,CAFQ,CAEN,CAACS,WAAD,CAAcC,UAAd,CAA0BC,UAA1B,CAAsCC,cAAtC,CAAsDC,kBAAtD,CAA0EC,aAA1E,CAFM,CAAT,CAIA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBlB,oBAAoB,CAACmB,iBAArB,CAAuC,IAAvC,EACAC,OAAO,CAACC,GAAR,CAAY,MAAZ,EACH,CAHD,CAKA,mBACI,YAAK,SAAS,CAAC,eAAf,uBAGI,aAAK,SAAS,CAAC,0BAAf,WACKX,gBAAgB,eACb,wCACI,KAAC,UAAD,IADJ,cAEI,aAAK,SAAS,CAAC,+BAAf,wBACI,gBAAQ,SAAS,CAAC,gCAAlB,CAAmD,OAAO,CAAEQ,WAA5D,wBACI,KAAC,WAAD,IADJ,cAEI,oEAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,+BAAf,uBACI,KAAC,aAAD,IADJ,EALJ,GAFJ,cAWI,KAAC,WAAD,IAXJ,GAFR,CAgBK,CAAAR,gBAAgB,OAAhB,EAAAA,gBAAgB,SAAhB,QAAAA,gBAAgB,CAAEY,MAAlB,IAA6B,CAA7B,eACG,aAAK,SAAS,CAAC,iCAAf,wBACI,kOADJ,cAEI,KAAC,eAAD,IAFJ,GAjBR,GAHJ,EADJ,CA8BH,CAlDqD,CAAtD,CAoDA,cAAed,CAAAA,YAAf","sourcesContent":["import { observer } from 'mobx-react-lite';\r\nimport { useEffect, useState } from 'react';\r\nimport { IItemData } from '../../interfaces/IItemData';\r\nimport FiltersSettingsState from '../../store/FiltersSettingsState';\r\nimport ResponseDataState from '../../store/ResponseDataState';\r\nimport SortingByState from '../../store/SortingByState';\r\nimport { SetFilterSettings } from '../../Utils/SetFilterSettings';\r\nimport ClearFiltersBtn from '../buttons/ResetFiltersBtn/ResetFiltersBtn';\r\nimport ItemCard from '../ItemCard/ItemCard';\r\nimport Pagination from '../Pagination/Pagination';\r\nimport SortingSelect from '../SortingSelect/SortingSelect';\r\nimport CatalogIcon from '../svg/CatalogIcon';\r\nimport './ResultsBlock.scss'\r\nimport ResultsList from './ResultsList/ResultsList';\r\n\r\ninterface IResultsBlock {\r\n    responseItems?: IItemData[] | undefined;\r\n}\r\n\r\nconst ResultsBlock: React.FC<IResultsBlock> = observer(({ responseItems }) => {\r\n\r\n\r\n    const { allFilteredItems, isAvailable, isDiscount, priceRange, selectedBrands, selectedCategories, } = FiltersSettingsState;\r\n    const { sortingByType } = SortingByState;\r\n\r\n\r\n    useEffect(() => {\r\n        responseItems && FiltersSettingsState.setAllFilteredItems(responseItems)\r\n    }, [responseItems])\r\n\r\n    useEffect(() => {\r\n        FiltersSettingsState.setAllFilteredItems(SetFilterSettings());\r\n    }, [isAvailable, isDiscount, priceRange, selectedBrands, selectedCategories, sortingByType])\r\n\r\n    const showFilters = () => {\r\n        FiltersSettingsState.setIsFiltersShown(true)\r\n        console.log('show')\r\n    };\r\n\r\n    return (\r\n        <div className='results-block'>\r\n\r\n\r\n            <div className=\"catalog-page__items-wrap\">\r\n                {allFilteredItems && (\r\n                    <>\r\n                        <Pagination />\r\n                        <div className=\"catalog-page__mobile-settings\">\r\n                            <button className=\"catalog-page__btn-show-filters\" onClick={showFilters}>\r\n                                <CatalogIcon />\r\n                                <span>Фильтры</span>\r\n                            </button>\r\n                            <div className=\"catalog-page__sorting-by-wrap\">\r\n                                <SortingSelect />\r\n                            </div>\r\n                        </div>\r\n                        <ResultsList />\r\n                    </>\r\n                )}\r\n                {allFilteredItems?.length === 0 && (\r\n                    <div className=\"catalog-page__results-not-found\">\r\n                        <p>По данным параметрам ничего не найдено</p>\r\n                        <ClearFiltersBtn />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default ResultsBlock"]},"metadata":{},"sourceType":"module"}