{"ast":null,"code":"import ResponseDataState from\"../store/ResponseDataState\";import FiltersSettingsState from\"../store/FiltersSettingsState\";import{setSortByItems}from\"./setSortByItems\";export var SetFilterSettings=function SetFilterSettings(){var responseData=ResponseDataState.responseData;var selectedCategories=FiltersSettingsState.selectedCategories,selectedBrands=FiltersSettingsState.selectedBrands,priceRange=FiltersSettingsState.priceRange,isAvailable=FiltersSettingsState.isAvailable,isDiscount=FiltersSettingsState.isDiscount;return setSortByItems(responseData===null||responseData===void 0?void 0:responseData.items.filter(function(item){if(selectedCategories.length){return selectedCategories.includes(item.category);}else{return item;}}).filter(function(item){if(selectedBrands.length){return selectedBrands.includes(item.brand);}else{return item;}}).filter(function(item){var price=item.priceInfo.fullPrice-item.priceInfo.discountAmount;return price>=priceRange[0]&&price<=priceRange[1];}).filter(function(item){if(isAvailable){return item.isAvailable;}else{return item;}}).filter(function(item){if(isDiscount){return item.priceInfo.discount;}else{return item;}}));};","map":{"version":3,"sources":["C:/Users/Pavel/Desktop/js/device-market-master/client/src/Utils/SetFilterSettings.ts"],"names":["ResponseDataState","FiltersSettingsState","setSortByItems","SetFilterSettings","responseData","selectedCategories","selectedBrands","priceRange","isAvailable","isDiscount","items","filter","item","length","includes","category","brand","price","priceInfo","fullPrice","discountAmount","discount"],"mappings":"AAAA,MAAOA,CAAAA,iBAAP,KAA8B,4BAA9B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,+BAAjC,CACA,OAASC,cAAT,KAA+B,kBAA/B,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CACtC,GAAQC,CAAAA,YAAR,CAAyBJ,iBAAzB,CAAQI,YAAR,CACA,GAAQC,CAAAA,kBAAR,CAAoFJ,oBAApF,CAAQI,kBAAR,CAA4BC,cAA5B,CAAoFL,oBAApF,CAA4BK,cAA5B,CAA4CC,UAA5C,CAAoFN,oBAApF,CAA4CM,UAA5C,CAAwDC,WAAxD,CAAoFP,oBAApF,CAAwDO,WAAxD,CAAqEC,UAArE,CAAoFR,oBAApF,CAAqEQ,UAArE,CAEA,MAAOP,CAAAA,cAAc,CACpBE,YADoB,SACpBA,YADoB,iBACpBA,YAAY,CAAEM,KAAd,CACEC,MADF,CACS,SAACC,IAAD,CAAU,CACjB,GAAIP,kBAAkB,CAACQ,MAAvB,CAA+B,CAC9B,MAAOR,CAAAA,kBAAkB,CAACS,QAAnB,CAA4BF,IAAI,CAACG,QAAjC,CAAP,CACA,CAFD,IAEO,CACN,MAAOH,CAAAA,IAAP,CACA,CACD,CAPF,EAQED,MARF,CAQS,SAACC,IAAD,CAAU,CACjB,GAAIN,cAAc,CAACO,MAAnB,CAA2B,CAC1B,MAAOP,CAAAA,cAAc,CAACQ,QAAf,CAAwBF,IAAI,CAACI,KAA7B,CAAP,CACA,CAFD,IAEO,CACN,MAAOJ,CAAAA,IAAP,CACA,CACD,CAdF,EAeED,MAfF,CAeS,SAACC,IAAD,CAAU,CACjB,GAAIK,CAAAA,KAAK,CAAGL,IAAI,CAACM,SAAL,CAAeC,SAAf,CAA2BP,IAAI,CAACM,SAAL,CAAeE,cAAtD,CACA,MAAOH,CAAAA,KAAK,EAAIV,UAAU,CAAC,CAAD,CAAnB,EAA0BU,KAAK,EAAIV,UAAU,CAAC,CAAD,CAApD,CACA,CAlBF,EAmBEI,MAnBF,CAmBS,SAACC,IAAD,CAAU,CACjB,GAAIJ,WAAJ,CAAiB,CAChB,MAAOI,CAAAA,IAAI,CAACJ,WAAZ,CACA,CAFD,IAEO,CACN,MAAOI,CAAAA,IAAP,CACA,CACD,CAzBF,EA0BED,MA1BF,CA0BS,SAACC,IAAD,CAAU,CACjB,GAAIH,UAAJ,CAAgB,CACf,MAAOG,CAAAA,IAAI,CAACM,SAAL,CAAeG,QAAtB,CACA,CAFD,IAEO,CACN,MAAOT,CAAAA,IAAP,CACA,CACD,CAhCF,CADoB,CAArB,CAmCA,CAvCM","sourcesContent":["import ResponseDataState from \"../store/ResponseDataState\";\r\nimport FiltersSettingsState from \"../store/FiltersSettingsState\";\r\nimport { setSortByItems } from \"./setSortByItems\";\r\n\r\nexport const SetFilterSettings = () => {\r\n\tconst { responseData } = ResponseDataState;\r\n\tconst { selectedCategories, selectedBrands, priceRange, isAvailable, isDiscount } = FiltersSettingsState;\r\n\r\n\treturn setSortByItems(\r\n\t\tresponseData?.items\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (selectedCategories.length) {\r\n\t\t\t\t\treturn selectedCategories.includes(item.category);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (selectedBrands.length) {\r\n\t\t\t\t\treturn selectedBrands.includes(item.brand);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tlet price = item.priceInfo.fullPrice - item.priceInfo.discountAmount;\r\n\t\t\t\treturn price >= priceRange[0] && price <= priceRange[1];\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (isAvailable) {\r\n\t\t\t\t\treturn item.isAvailable;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\tif (isDiscount) {\r\n\t\t\t\t\treturn item.priceInfo.discount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}